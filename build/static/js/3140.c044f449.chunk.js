"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[3140],{31795:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});a(57406),a(37354),a(99664);const n=a.p+"static/media/adminbanner.8f16960fe20eadcbec62.png";var i=a(65043),r=a(32040),c=a(77154),t=a(78745),l=(a(92342),a(73216)),o=a(39194),d=a(70579);const m=()=>{const e=(0,l.Zp)(),[s,a]=(0,i.useState)(""),[m,g]=(0,i.useState)(""),[p,u]=(0,i.useState)(!1),h=e=>t.oR.error("".concat(e||"Invalid Details \n Please Try Again!"),{className:"toast-message"});return(0,d.jsxs)("div",{children:[(0,d.jsx)(r.A,{}),(0,d.jsx)("section",{className:"sign-in",children:(0,d.jsx)("div",{className:"container",children:(0,d.jsxs)("div",{className:"signin-content",children:[(0,d.jsx)("div",{className:"signin-image",children:(0,d.jsx)("figure",{children:(0,d.jsx)("img",{src:n,alt:"sing up image"})})}),(0,d.jsxs)("div",{className:"signin-form",children:[(0,d.jsx)("h2",{className:"form-title",children:"Admin Login"}),(0,d.jsx)(t.N9,{}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{for:"email",children:(0,d.jsx)("i",{className:"zmdi zmdi-account material-icons-name"})}),(0,d.jsx)("input",{type:"text",name:"email",id:"email",placeholder:"Enter Admin Username",onChange:e=>a(e.target.value)})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{for:"pass",children:(0,d.jsx)("i",{className:"zmdi zmdi-lock"})}),(0,d.jsx)("input",{type:"password",name:"pass",id:"pass",placeholder:"Password",onChange:e=>g(e.target.value)})]}),(0,d.jsx)("div",{className:"form-group form-button",children:(0,d.jsx)("button",{onClick:async()=>{u(!0);try{const a=await c.A.post("".concat(o.C,"/adminlogin"),{username:s,password:m});if(a.data.success){const n=a.data.adminObject||{_id:"6766786c4f039103c8120e98",username:s,role:"admin"};console.log("\ud83d\udcbe Saving admin data to localStorage:",n),localStorage.setItem("currentUser",JSON.stringify(n));const i=localStorage.getItem("currentUser");console.log("\u2705 Verified localStorage save:",i),t.oR.success("Login Success",{className:"toast-message"}),setTimeout((()=>{e("/Admin")}),2e3)}else h(a.data.message||"Invalid admin credentials")}catch(a){console.error("Login failed:",a),a.response&&a.response.data&&a.response.data.message?h(a.response.data.message):a.message?h(a.message):h("Network error. Please check if the server is running.")}finally{u(!1)}},disabled:p,children:p?(0,d.jsx)("div",{className:"spinner"}):"Login"})})]})]})})})]})}}}]);
//# sourceMappingURL=3140.c044f449.chunk.js.map