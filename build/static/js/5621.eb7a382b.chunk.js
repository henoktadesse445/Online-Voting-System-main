"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[5621],{6912:(e,t,r)=>{r.d(t,{A:()=>l});var o=r(26240),s=r(96446),n=r(85865),a=r(12841),i=r(70579);const l=e=>{let{title:t,subtitle:r}=e;const l=(0,o.A)(),c=(0,a.LU)(l.palette.mode);return(0,i.jsxs)(s.A,{mb:"30px",sx:{borderLeft:"6px solid ".concat(c.greenAccent[500]),pl:3,py:1,borderRadius:"2px"},children:[(0,i.jsx)(n.A,{variant:"h2",color:c.grey[100],fontWeight:"900",sx:{m:"0 0 5px 0",letterSpacing:"1px"},children:t}),(0,i.jsx)(n.A,{variant:"h5",color:c.greenAccent[400],sx:{fontWeight:600},children:r})]})}},87926:(e,t,r)=>{r.d(t,{A:()=>D});var o=r(65043),s=r(34223),n=(r(65645),r(26240)),a=r(85865),i=r(96446),l=r(35475),c=r(12841),d=r(41025),p=r(97343),x=r(97895),h=r(46085),g=r(33639),A=r(14789),m=r(44413),u=r(92577),j=r(22738),y=r(10507),b=r(14860),f=r(39244),v=r(77730),S=r(57875),k=r(37158),C=r(70579);const w=e=>{let{title:t,to:r,icon:o,selected:i,setSelected:d}=e;const p=(0,n.A)(),x=(0,c.LU)(p.palette.mode);return(0,C.jsxs)(s.Dr,{active:i===t,style:{color:x.grey[100]},onClick:()=>d(t),icon:o,children:[(0,C.jsx)(a.A,{children:t}),(0,C.jsx)(l.N_,{to:r})]})},D=()=>{const e=(0,n.A)(),t=(0,c.LU)(e.palette.mode),[r,l]=(0,o.useState)(!1),[D,R]=(0,o.useState)("Dashboard");return(0,C.jsx)(i.A,{sx:{"& .pro-sidebar":{width:"240px",minWidth:"240px",borderRight:"none !important"},"& .pro-sidebar-inner":{background:"".concat(t.primary[500]," !important"),backdropFilter:"blur(10px)"},"& .pro-icon-wrapper":{backgroundColor:"transparent !important"},"& .pro-inner-item":{padding:"10px 35px 10px 20px !important",margin:"4px 10px",borderRadius:"8px",transition:"all 0.3s ease"},"& .pro-inner-item:hover":{color:"#868dfb !important",backgroundColor:"rgba(134, 141, 251, 0.1) !important"},"& .pro-menu-item.active":{color:"#6870fa !important",backgroundColor:"rgba(104, 112, 250, 0.1) !important",borderRadius:"8px"},"& .pro-item-content p":{fontWeight:"600 !important"},"& .pro-menu-item.pro-sub-menu":{"& .pro-inner-item":{padding:"10px 20px 10px 20px !important"}},"& .pro-menu-item.pro-sub-menu .pro-inner-list-item":{paddingLeft:"20px !important"},"& .pro-arrow":{borderColor:"".concat(t.grey[100]," !important")},position:"sticky",top:0,height:"100vh",overflowY:"auto","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:t.primary[400]},"&::-webkit-scrollbar-thumb":{background:t.primary[300],borderRadius:"3px"},"&::-webkit-scrollbar-thumb:hover":{background:t.blueAccent[500]}},children:(0,C.jsx)(s.M9,{collapsed:r,children:(0,C.jsxs)(s.W1,{iconShape:"square",children:[(0,C.jsx)(s.Dr,{onClick:()=>l(!r),icon:r?(0,C.jsx)(m.A,{}):void 0,style:{margin:"10px 0 20px 0",color:t.grey[100]},children:!r&&(0,C.jsx)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",ml:"15px",children:(0,C.jsxs)(a.A,{variant:"h3",fontWeight:"bold",color:t.grey[100],children:["VOTE",(0,C.jsx)("span",{style:{color:t.greenAccent[500]},children:"HUB"})]})})}),(0,C.jsxs)(i.A,{paddingLeft:r?void 0:"1%",children:[(0,C.jsx)(w,{title:"Dashboard",to:"/Admin",icon:(0,C.jsx)(d.A,{}),selected:D,setSelected:R}),(0,C.jsxs)(s.g8,{title:"Data Management",icon:(0,C.jsx)(f.A,{}),defaultOpen:!0,style:{color:t.grey[100]},children:[(0,C.jsx)(w,{title:"Candidates Information",to:"/Candidate",icon:(0,C.jsx)(p.A,{}),selected:D,setSelected:R}),(0,C.jsx)(w,{title:"Student List Info",to:"/studentListInfo",icon:(0,C.jsx)(y.A,{}),selected:D,setSelected:R}),(0,C.jsx)(w,{title:"Pending Candidates",to:"/pendingCandidates",icon:(0,C.jsx)(j.A,{}),selected:D,setSelected:R}),(0,C.jsx)(w,{title:"Contact Messages",to:"/contacts",icon:(0,C.jsx)(A.A,{}),selected:D,setSelected:R})]}),(0,C.jsxs)(s.g8,{title:"Pages",icon:(0,C.jsx)(v.A,{}),defaultOpen:!0,style:{color:t.grey[100]},children:[(0,C.jsx)(w,{title:"Calendar",to:"/calendar",icon:(0,C.jsx)(x.A,{}),selected:D,setSelected:R}),(0,C.jsx)(w,{title:"Voting Settings",to:"/votingSettings",icon:(0,C.jsx)(u.A,{}),selected:D,setSelected:R})]}),(0,C.jsxs)(s.g8,{title:"Charts & Reports",icon:(0,C.jsx)(S.A,{}),defaultOpen:!0,style:{color:t.grey[100]},children:[(0,C.jsx)(w,{title:"Bar Chart",to:"/BarChart",icon:(0,C.jsx)(h.A,{}),selected:D,setSelected:R}),(0,C.jsx)(w,{title:"Voting Report",to:"/votingReport",icon:(0,C.jsx)(b.A,{}),selected:D,setSelected:R})]}),(0,C.jsx)(s.g8,{title:"Navigation",icon:(0,C.jsx)(k.A,{}),defaultOpen:!1,style:{color:t.grey[100]},children:(0,C.jsx)(w,{title:"Back to Home",to:"/",icon:(0,C.jsx)(g.A,{}),selected:D,setSelected:R})})]})]})})})}},30044:(e,t,r)=>{r.d(t,{A:()=>u});var o=r(26240),s=r(96446),n=r(17392),a=r(65043),i=r(12841),l=r(62559),c=r(74727),d=r(76109),p=r(67808),x=r(65523),h=r(83832),g=r(66360),A=r(73216),m=r(70579);const u=()=>{const e=(0,A.Zp)(),t=(0,o.A)(),r=(0,i.LU)(t.palette.mode),u=(0,a.useContext)(i.Ig),[j,y]=(0,a.useState)(!1);return j&&e("/"),(0,m.jsxs)(s.A,{display:"flex",justifyContent:"space-between",p:2,sx:{backdropFilter:"blur(10px)",backgroundColor:"dark"===t.palette.mode?"rgba(20, 27, 45, 0.7)":"rgba(255, 255, 255, 0.7)",position:"sticky",top:0,zIndex:1e3,borderBottom:"1px solid ".concat(r.primary[400])},children:[(0,m.jsxs)(s.A,{display:"flex",backgroundColor:r.primary[400],borderRadius:"10px",sx:{transition:"all 0.3s ease","&:hover":{backgroundColor:r.primary[300]}},children:[(0,m.jsx)(l.Ay,{sx:{ml:2,flex:1,color:r.grey[100]},placeholder:"Search"}),(0,m.jsx)(n.A,{type:"Button",sx:{p:1,color:r.grey[100]},children:(0,m.jsx)(g.A,{})})]}),(0,m.jsxs)(s.A,{display:"flex",children:[(0,m.jsx)(n.A,{onClick:u.toggleColorMode,children:"dark"===t.palette.mode?(0,m.jsx)(d.A,{}):(0,m.jsx)(c.A,{})}),(0,m.jsx)(n.A,{children:(0,m.jsx)(p.A,{})}),(0,m.jsx)(n.A,{children:(0,m.jsx)(x.A,{})}),(0,m.jsx)(n.A,{onClick:()=>{const e=localStorage.getItem("theme");localStorage.clear(),sessionStorage.clear(),e&&localStorage.setItem("theme",e),document.cookie.split(";").forEach((e=>{document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/")})),y(!0)},children:(0,m.jsx)(h.A,{})})]})]})}},17346:(e,t,r)=>{r.r(t),r.d(t,{default:()=>L});var o=r(65043),s=r(96446),n=r(85865),a=r(63336),i=r(13766),l=r(86605),c=r(40710),d=r(79650),p=r(71806),x=r(84882),h=r(28076),g=r(10039),A=r(73460),m=r(81045),u=r(43845),j=r(21337),y=r(12841),b=r(45969),f=r(55376),v=r(6912),S=r(30044),k=r(87926),C=r(77154),w=r(39194),D=r(78745),R=r(61958),I=r(70579);const L=()=>{const[e,t]=(0,y.b2)(),r=(0,y.LU)(e.palette.mode),[L,P]=(0,o.useState)([]),[M,z]=(0,o.useState)(!0);(0,o.useEffect)((()=>{N()}),[]);const N=async()=>{try{const e=await C.A.get("".concat(w.C,"/api/admin/election-history"));e.data.success&&P(e.data.history)}catch(e){console.error("Error fetching history:",e),D.oR.error("Failed to load election history")}finally{z(!1)}};return(0,I.jsx)(y.Ig.Provider,{value:t,children:(0,I.jsxs)(b.A,{theme:e,children:[(0,I.jsx)(f.Ay,{}),(0,I.jsxs)("div",{className:"appNew",children:[(0,I.jsx)(k.A,{}),(0,I.jsxs)("main",{className:"content",children:[(0,I.jsx)(S.A,{}),(0,I.jsxs)(s.A,{m:"20px",children:[(0,I.jsx)(s.A,{display:"flex",alignItems:"center",gap:2,mb:2,children:(0,I.jsx)(v.A,{title:"ELECTION HISTORY",subtitle:"Archive of past election results"})}),M?(0,I.jsx)(n.A,{children:"Loading history..."}):0===L.length?(0,I.jsxs)(s.A,{display:"flex",flexDirection:"column",alignItems:"center",mt:10,color:r.grey[300],children:[(0,I.jsx)(R.A,{sx:{fontSize:60,mb:2,opacity:.5}}),(0,I.jsx)(n.A,{variant:"h5",children:"No archived elections found."}),(0,I.jsx)(n.A,{variant:"body2",children:"Archive an election from Voting Settings to see it here."})]}):(0,I.jsx)(s.A,{display:"flex",flexDirection:"column",gap:2,children:L.map((e=>(0,I.jsx)(a.A,{elevation:2,sx:{backgroundColor:r.primary[400]},children:(0,I.jsxs)(i.A,{sx:{backgroundColor:"transparent",boxShadow:"none"},children:[(0,I.jsx)(l.A,{expandIcon:(0,I.jsx)(j.A,{}),children:(0,I.jsxs)(s.A,{display:"flex",flexDirection:"column",width:"100%",children:[(0,I.jsxs)(s.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,I.jsx)(n.A,{variant:"h5",color:r.greenAccent[500],fontWeight:"bold",children:e.electionTitle}),(0,I.jsxs)(n.A,{variant:"body2",color:r.grey[300],children:["Archived: ",new Date(e.archivedAt).toLocaleDateString()]})]}),(0,I.jsxs)(s.A,{display:"flex",gap:3,mt:1,children:[(0,I.jsxs)(n.A,{variant:"body2",color:r.grey[100],children:["Total Votes: ",(0,I.jsx)("strong",{children:e.totalVotes})]}),(0,I.jsxs)(n.A,{variant:"body2",color:r.grey[100],children:["Period: ",new Date(e.startDate).toLocaleDateString()," - ",new Date(e.endDate).toLocaleDateString()]})]})]})}),(0,I.jsx)(c.A,{children:(0,I.jsx)(d.A,{children:(0,I.jsxs)(p.A,{size:"small",children:[(0,I.jsx)(x.A,{children:(0,I.jsxs)(h.A,{children:[(0,I.jsx)(g.A,{children:"Candidate"}),(0,I.jsx)(g.A,{children:"Party/Dept"}),(0,I.jsx)(g.A,{children:"Position"}),(0,I.jsx)(g.A,{align:"right",children:"Votes"})]})}),(0,I.jsx)(A.A,{children:e.results.map(((e,t)=>(0,I.jsxs)(h.A,{children:[(0,I.jsxs)(g.A,{component:"th",scope:"row",sx:{display:"flex",alignItems:"center",gap:1},children:[e.img&&(0,I.jsx)(m.A,{src:e.img,sx:{width:24,height:24}}),e.name]}),(0,I.jsx)(g.A,{children:e.party||e.department}),(0,I.jsx)(g.A,{children:e.position?(0,I.jsx)(u.A,{label:e.position,size:"small",color:"primary"}):"-"}),(0,I.jsx)(g.A,{align:"right",children:(0,I.jsx)(n.A,{fontWeight:"bold",color:r.blueAccent[400],children:e.votes})})]},t)))})]})})})]})},e._id)))})]})]})]})]})})}},39194:(e,t,r)=>{r.d(t,{C:()=>o});const o="http://localhost:5000"},21337:(e,t,r)=>{var o=r(24994);t.A=void 0;var s=o(r(40039)),n=r(70579);t.A=(0,s.default)((0,n.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")},61958:(e,t,r)=>{var o=r(24994);t.A=void 0;var s=o(r(40039)),n=r(70579);t.A=(0,s.default)((0,n.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History")},81045:(e,t,r)=>{r.d(t,{A:()=>f});var o=r(98587),s=r(58168),n=r(65043),a=r(69292),i=r(98610),l=r(34535),c=r(98206),d=r(59662),p=r(70579);const x=(0,d.A)((0,p.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var h=r(92532),g=r(72372);function A(e){return(0,g.Ay)("MuiAvatar",e)}(0,h.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var m=r(4162);const u=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],j=(0,l.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,s.A)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:(0,s.A)({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}})),y=(0,l.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),b=(0,l.Ay)(x,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const f=n.forwardRef((function(e,t){const r=(0,c.b)({props:e,name:"MuiAvatar"}),{alt:l,children:d,className:x,component:h="div",slots:g={},slotProps:f={},imgProps:v,sizes:S,src:k,srcSet:C,variant:w="circular"}=r,D=(0,o.A)(r,u);let R=null;const I=function(e){let{crossOrigin:t,referrerPolicy:r,src:o,srcSet:s}=e;const[a,i]=n.useState(!1);return n.useEffect((()=>{if(!o&&!s)return;i(!1);let e=!0;const n=new Image;return n.onload=()=>{e&&i("loaded")},n.onerror=()=>{e&&i("error")},n.crossOrigin=t,n.referrerPolicy=r,n.src=o,s&&(n.srcset=s),()=>{e=!1}}),[t,r,o,s]),a}((0,s.A)({},v,{src:k,srcSet:C})),L=k||C,P=L&&"error"!==I,M=(0,s.A)({},r,{colorDefault:!P,component:h,variant:w}),z=(e=>{const{classes:t,variant:r,colorDefault:o}=e,s={root:["root",r,o&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,i.A)(s,A,t)})(M),[N,O]=(0,m.A)("img",{className:z.img,elementType:y,externalForwardedProps:{slots:g,slotProps:{img:(0,s.A)({},v,f.img)}},additionalProps:{alt:l,src:k,srcSet:C,sizes:S},ownerState:M});return R=P?(0,p.jsx)(N,(0,s.A)({},O)):d||0===d?d:L&&l?l[0]:(0,p.jsx)(b,{ownerState:M,className:z.fallback}),(0,p.jsx)(j,(0,s.A)({as:h,ownerState:M,className:(0,a.A)(z.root,x),ref:t},D,{children:R}))}))}}]);
//# sourceMappingURL=5621.eb7a382b.chunk.js.map