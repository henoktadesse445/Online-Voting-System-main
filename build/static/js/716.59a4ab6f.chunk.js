"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[716],{6912:(e,t,o)=>{o.d(t,{A:()=>c});var r=o(26240),a=o(96446),n=o(85865),s=o(12841),i=o(70579);const c=e=>{let{title:t,subtitle:o}=e;const c=(0,r.A)(),l=(0,s.LU)(c.palette.mode);return(0,i.jsxs)(a.A,{mb:"30px",sx:{borderLeft:"6px solid ".concat(l.greenAccent[500]),pl:3,py:1,borderRadius:"2px"},children:[(0,i.jsx)(n.A,{variant:"h2",color:l.grey[100],fontWeight:"900",sx:{m:"0 0 5px 0",letterSpacing:"1px"},children:t}),(0,i.jsx)(n.A,{variant:"h5",color:l.greenAccent[400],sx:{fontWeight:600},children:o})]})}},87926:(e,t,o)=>{o.d(t,{A:()=>D});var r=o(65043),a=o(34223),n=(o(65645),o(26240)),s=o(85865),i=o(96446),c=o(35475),l=o(12841),d=o(41025),p=o(97343),h=o(97895),g=o(46085),u=o(33639),x=o(14789),A=o(44413),m=o(92577),v=o(22738),b=o(10507),j=o(14860),y=o(39244),f=o(77730),S=o(57875),C=o(37158),k=o(70579);const w=e=>{let{title:t,to:o,icon:r,selected:i,setSelected:d}=e;const p=(0,n.A)(),h=(0,l.LU)(p.palette.mode);return(0,k.jsxs)(a.Dr,{active:i===t,style:{color:h.grey[100]},onClick:()=>d(t),icon:r,children:[(0,k.jsx)(s.A,{children:t}),(0,k.jsx)(c.N_,{to:o})]})},D=()=>{const e=(0,n.A)(),t=(0,l.LU)(e.palette.mode),[o,c]=(0,r.useState)(!1),[D,I]=(0,r.useState)("Dashboard");return(0,k.jsx)(i.A,{sx:{"& .pro-sidebar":{width:"240px",minWidth:"240px",borderRight:"none !important"},"& .pro-sidebar-inner":{background:"".concat(t.primary[500]," !important"),backdropFilter:"blur(10px)"},"& .pro-icon-wrapper":{backgroundColor:"transparent !important"},"& .pro-inner-item":{padding:"10px 35px 10px 20px !important",margin:"4px 10px",borderRadius:"8px",transition:"all 0.3s ease"},"& .pro-inner-item:hover":{color:"#868dfb !important",backgroundColor:"rgba(134, 141, 251, 0.1) !important"},"& .pro-menu-item.active":{color:"#6870fa !important",backgroundColor:"rgba(104, 112, 250, 0.1) !important",borderRadius:"8px"},"& .pro-item-content p":{fontWeight:"600 !important"},"& .pro-menu-item.pro-sub-menu":{"& .pro-inner-item":{padding:"10px 20px 10px 20px !important"}},"& .pro-menu-item.pro-sub-menu .pro-inner-list-item":{paddingLeft:"20px !important"},"& .pro-arrow":{borderColor:"".concat(t.grey[100]," !important")},position:"sticky",top:0,height:"100vh",overflowY:"auto","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:t.primary[400]},"&::-webkit-scrollbar-thumb":{background:t.primary[300],borderRadius:"3px"},"&::-webkit-scrollbar-thumb:hover":{background:t.blueAccent[500]}},children:(0,k.jsx)(a.M9,{collapsed:o,children:(0,k.jsxs)(a.W1,{iconShape:"square",children:[(0,k.jsx)(a.Dr,{onClick:()=>c(!o),icon:o?(0,k.jsx)(A.A,{}):void 0,style:{margin:"10px 0 20px 0",color:t.grey[100]},children:!o&&(0,k.jsx)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",ml:"15px",children:(0,k.jsxs)(s.A,{variant:"h3",fontWeight:"bold",color:t.grey[100],children:["VOTE",(0,k.jsx)("span",{style:{color:t.greenAccent[500]},children:"HUB"})]})})}),(0,k.jsxs)(i.A,{paddingLeft:o?void 0:"1%",children:[(0,k.jsx)(w,{title:"Dashboard",to:"/Admin",icon:(0,k.jsx)(d.A,{}),selected:D,setSelected:I}),(0,k.jsxs)(a.g8,{title:"Data Management",icon:(0,k.jsx)(y.A,{}),defaultOpen:!0,style:{color:t.grey[100]},children:[(0,k.jsx)(w,{title:"Candidates Information",to:"/Candidate",icon:(0,k.jsx)(p.A,{}),selected:D,setSelected:I}),(0,k.jsx)(w,{title:"Student List Info",to:"/studentListInfo",icon:(0,k.jsx)(b.A,{}),selected:D,setSelected:I}),(0,k.jsx)(w,{title:"Pending Candidates",to:"/pendingCandidates",icon:(0,k.jsx)(v.A,{}),selected:D,setSelected:I}),(0,k.jsx)(w,{title:"Contact Messages",to:"/contacts",icon:(0,k.jsx)(x.A,{}),selected:D,setSelected:I})]}),(0,k.jsxs)(a.g8,{title:"Pages",icon:(0,k.jsx)(f.A,{}),defaultOpen:!0,style:{color:t.grey[100]},children:[(0,k.jsx)(w,{title:"Calendar",to:"/calendar",icon:(0,k.jsx)(h.A,{}),selected:D,setSelected:I}),(0,k.jsx)(w,{title:"Voting Settings",to:"/votingSettings",icon:(0,k.jsx)(m.A,{}),selected:D,setSelected:I})]}),(0,k.jsxs)(a.g8,{title:"Charts & Reports",icon:(0,k.jsx)(S.A,{}),defaultOpen:!0,style:{color:t.grey[100]},children:[(0,k.jsx)(w,{title:"Bar Chart",to:"/BarChart",icon:(0,k.jsx)(g.A,{}),selected:D,setSelected:I}),(0,k.jsx)(w,{title:"Voting Report",to:"/votingReport",icon:(0,k.jsx)(j.A,{}),selected:D,setSelected:I})]}),(0,k.jsx)(a.g8,{title:"Navigation",icon:(0,k.jsx)(C.A,{}),defaultOpen:!1,style:{color:t.grey[100]},children:(0,k.jsx)(w,{title:"Back to Home",to:"/",icon:(0,k.jsx)(u.A,{}),selected:D,setSelected:I})})]})]})})})}},30044:(e,t,o)=>{o.d(t,{A:()=>m});var r=o(26240),a=o(96446),n=o(17392),s=o(65043),i=o(12841),c=o(62559),l=o(74727),d=o(76109),p=o(67808),h=o(65523),g=o(83832),u=o(66360),x=o(73216),A=o(70579);const m=()=>{const e=(0,x.Zp)(),t=(0,r.A)(),o=(0,i.LU)(t.palette.mode),m=(0,s.useContext)(i.Ig),[v,b]=(0,s.useState)(!1);return v&&e("/"),(0,A.jsxs)(a.A,{display:"flex",justifyContent:"space-between",p:2,sx:{backdropFilter:"blur(10px)",backgroundColor:"dark"===t.palette.mode?"rgba(20, 27, 45, 0.7)":"rgba(255, 255, 255, 0.7)",position:"sticky",top:0,zIndex:1e3,borderBottom:"1px solid ".concat(o.primary[400])},children:[(0,A.jsxs)(a.A,{display:"flex",backgroundColor:o.primary[400],borderRadius:"10px",sx:{transition:"all 0.3s ease","&:hover":{backgroundColor:o.primary[300]}},children:[(0,A.jsx)(c.Ay,{sx:{ml:2,flex:1,color:o.grey[100]},placeholder:"Search"}),(0,A.jsx)(n.A,{type:"Button",sx:{p:1,color:o.grey[100]},children:(0,A.jsx)(u.A,{})})]}),(0,A.jsxs)(a.A,{display:"flex",children:[(0,A.jsx)(n.A,{onClick:m.toggleColorMode,children:"dark"===t.palette.mode?(0,A.jsx)(d.A,{}):(0,A.jsx)(l.A,{})}),(0,A.jsx)(n.A,{children:(0,A.jsx)(p.A,{})}),(0,A.jsx)(n.A,{children:(0,A.jsx)(h.A,{})}),(0,A.jsx)(n.A,{onClick:()=>{const e=localStorage.getItem("theme");localStorage.clear(),sessionStorage.clear(),e&&localStorage.setItem("theme",e),document.cookie.split(";").forEach((e=>{document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/")})),b(!0)},children:(0,A.jsx)(g.A,{})})]})]})}},47649:(e,t,o)=>{o.r(t),o.d(t,{default:()=>$});var r=o(65043),a=o(96446),n=o(17392),s=o(85865),i=o(63336),c=o(67254),l=o(11906),d=o(15795),p=o(74605),h=o(98587),g=o(58168),u=o(69292),x=o(98610),A=o(67266),m=o(6803),v=o(33064),b=o(34535),j=o(98206),y=o(92532),f=o(72372);function S(e){return(0,f.Ay)("MuiSwitch",e)}const C=(0,y.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var k=o(70579);const w=["className","color","edge","size","sx"],D=(0,b.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.edge&&t["edge".concat((0,m.A)(o.edge))],t["size".concat((0,m.A)(o.size))]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,["& .".concat(C.thumb)]:{width:16,height:16},["& .".concat(C.switchBase)]:{padding:4,["&.".concat(C.checked)]:{transform:"translateX(16px)"}}}}]}),I=(0,b.Ay)(v.A,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.switchBase,{["& .".concat(C.input)]:t.input},"default"!==o.color&&t["color".concat((0,m.A)(o.color))]]}})((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:"".concat("light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]),transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),["&.".concat(C.checked)]:{transform:"translateX(20px)"},["&.".concat(C.disabled)]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:"".concat("light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600])},["&.".concat(C.checked," + .").concat(C.track)]:{opacity:.5},["&.".concat(C.disabled," + .").concat(C.track)]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:"".concat("light"===t.palette.mode?.12:.2)},["& .".concat(C.input)]:{left:"-100%",width:"300%"}}}),(e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,A.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[o]=e;return{props:{color:o},style:{["&.".concat(C.checked)]:{color:(t.vars||t).palette[o].main,"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[o].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,A.X4)(t.palette[o].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(C.disabled)]:{color:t.vars?t.vars.palette.Switch["".concat(o,"DisabledColor")]:"".concat("light"===t.palette.mode?(0,A.a)(t.palette[o].main,.62):(0,A.e$)(t.palette[o].main,.55))}},["&.".concat(C.checked," + .").concat(C.track)]:{backgroundColor:(t.vars||t).palette[o].main}}}}))]}})),M=(0,b.Ay)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),R=(0,b.Ay)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),L=r.forwardRef((function(e,t){const o=(0,j.b)({props:e,name:"MuiSwitch"}),{className:r,color:a="primary",edge:n=!1,size:s="medium",sx:i}=o,c=(0,h.A)(o,w),l=(0,g.A)({},o,{color:a,edge:n,size:s}),d=(e=>{const{classes:t,edge:o,size:r,color:a,checked:n,disabled:s}=e,i={root:["root",o&&"edge".concat((0,m.A)(o)),"size".concat((0,m.A)(r))],switchBase:["switchBase","color".concat((0,m.A)(a)),n&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=(0,x.A)(i,S,t);return(0,g.A)({},t,c)})(l),p=(0,k.jsx)(R,{className:d.thumb,ownerState:l});return(0,k.jsxs)(D,{className:(0,u.A)(d.root,r),sx:i,ownerState:l,children:[(0,k.jsx)(I,(0,g.A)({type:"checkbox",icon:p,checkedIcon:p,ref:t,ownerState:l},c,{classes:(0,g.A)({},d,{root:d.switchBase})})),(0,k.jsx)(M,{className:d.track,ownerState:l})]})}));var T=o(12841),z=o(45969),N=o(55376),W=o(6912),E=o(30044),P=o(87926),O=o(77154),V=o(39194),B=o(78745),F=o(73216),H=o(69120),U=o(54469),G=o(19280),X=o(48625),Z=o(87014);const $=()=>{const[e,t]=(0,T.b2)(),o=(0,T.LU)(e.palette.mode),h=(0,F.Zp)(),[g,u]=(0,r.useState)(!0),[x,A]=(0,r.useState)(!1),[m,v]=(0,r.useState)(new Date),[b,j]=(0,r.useState)({startDate:"",endDate:"",isActive:!0,electionTitle:"Wachemo University Election",votingActive:!1});(0,r.useEffect)((()=>{f()}),[]),(0,r.useEffect)((()=>{const e=setInterval((()=>{v(new Date)}),1e3);return()=>clearInterval(e)}),[]);const y=e=>{if(!e)return"";const t=new Date(e),o=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0"),n=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return"".concat(o,"-").concat(r,"-").concat(a,"T").concat(n,":").concat(s)},f=async()=>{try{const e=await O.A.get("".concat(V.C,"/api/votingSettings"));if(e.data.success){const t=e.data.settings,o=y(t.startDate),r=y(t.endDate);j({...t,startDate:o,endDate:r})}}catch(e){console.error("Error fetching voting settings:",e),B.oR.error("Failed to load voting settings")}finally{u(!1)}},S=e=>{const{name:t,value:o,type:r,checked:a}=e.target;j((e=>({...e,[t]:"checkbox"===r?a:o})))},C=b.startDate?new Date(b.startDate):null,w=b.endDate?new Date(b.endDate):null,D=b.isActive&&C&&w&&m>=C&&m<=w,I=C&&m<C,M=w&&m>w,R=(()=>{if(!C||!w)return null;const e=w-C,t=Math.floor(e/864e5),o=Math.floor(e%864e5/36e5),r=Math.floor(e%36e5/6e4);let a="";return t>0&&(a+="".concat(t," day").concat(t>1?"s":"")),o>0&&(a+="".concat(a?", ":"").concat(o," hour").concat(o>1?"s":"")),r>0&&0===t&&(a+="".concat(a?", ":"").concat(r," minute").concat(r>1?"s":"")),a||"Less than 1 minute"})(),$=D&&w?w-m:null,Y=I&&C?C-m:null,_=e=>{if(!e||e<=0)return"0 seconds";const t=Math.floor(e/864e5),o=Math.floor(e%864e5/36e5),r=Math.floor(e%36e5/6e4),a=Math.floor(e%6e4/1e3);let n="";return t>0&&(n+="".concat(t,"d ")),o>0&&(n+="".concat(o,"h ")),r>0&&(n+="".concat(r,"m ")),a>0&&0===t&&(n+="".concat(a,"s")),n.trim()||"Less than 1 second"};return g?(0,k.jsx)(T.Ig.Provider,{value:t,children:(0,k.jsxs)(z.A,{theme:e,children:[(0,k.jsx)(N.Ay,{}),(0,k.jsxs)("div",{className:"appNew",children:[(0,k.jsx)(P.A,{}),(0,k.jsxs)("main",{className:"content",children:[(0,k.jsx)(E.A,{}),(0,k.jsxs)(a.A,{m:"20px",children:[(0,k.jsxs)(a.A,{display:"flex",alignItems:"center",gap:2,mb:2,children:[(0,k.jsx)(n.A,{onClick:()=>h("/Admin"),sx:{backgroundColor:o.blueAccent[600],color:o.grey[100],"&:hover":{backgroundColor:o.blueAccent[700]}},children:(0,k.jsx)(H.A,{})}),(0,k.jsx)(W.A,{title:"VOTING SETTINGS",subtitle:"Configure voting period and duration"})]}),(0,k.jsx)(a.A,{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",children:(0,k.jsx)(s.A,{children:"Loading settings..."})})]})]})]})]})}):(0,k.jsx)(T.Ig.Provider,{value:t,children:(0,k.jsxs)(z.A,{theme:e,children:[(0,k.jsx)(N.Ay,{}),(0,k.jsxs)("div",{className:"appNew",children:[(0,k.jsx)(P.A,{}),(0,k.jsxs)("main",{className:"content",children:[(0,k.jsx)(E.A,{}),(0,k.jsxs)(a.A,{m:"20px",children:[(0,k.jsxs)(a.A,{display:"flex",alignItems:"center",gap:2,mb:2,children:[(0,k.jsx)(n.A,{onClick:()=>h("/Admin"),sx:{backgroundColor:o.blueAccent[600],color:o.grey[100],"&:hover":{backgroundColor:o.blueAccent[700]}},children:(0,k.jsx)(H.A,{})}),(0,k.jsx)(W.A,{title:"VOTING SETTINGS",subtitle:"Configure voting period and duration"})]}),(0,k.jsxs)(i.A,{elevation:3,sx:{p:3,backgroundColor:o.primary[400],mt:2},children:[C&&w&&(0,k.jsxs)(i.A,{elevation:2,sx:{p:3,mb:3,backgroundColor:o.blueAccent[800],border:"2px solid ".concat(o.blueAccent[600])},children:[(0,k.jsx)(s.A,{variant:"h4",color:o.grey[100],sx:{mb:2,fontWeight:"bold"},children:"Voting Period Summary"}),(0,k.jsxs)(a.A,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:2},children:[(0,k.jsxs)(a.A,{children:[(0,k.jsx)(s.A,{variant:"h6",color:o.grey[300],sx:{mb:1},children:"Start Date & Time:"}),(0,k.jsx)(s.A,{variant:"h5",color:o.greenAccent[400],sx:{fontWeight:"bold"},children:C.toLocaleString()})]}),(0,k.jsxs)(a.A,{children:[(0,k.jsx)(s.A,{variant:"h6",color:o.grey[300],sx:{mb:1},children:"End Date & Time:"}),(0,k.jsx)(s.A,{variant:"h5",color:o.redAccent[400],sx:{fontWeight:"bold"},children:w.toLocaleString()})]}),(0,k.jsxs)(a.A,{children:[(0,k.jsx)(s.A,{variant:"h6",color:o.grey[300],sx:{mb:1},children:"Total Duration:"}),(0,k.jsx)(s.A,{variant:"h5",color:o.blueAccent[400],sx:{fontWeight:"bold"},children:R})]}),D&&$&&(0,k.jsxs)(a.A,{children:[(0,k.jsx)(s.A,{variant:"h6",color:o.grey[300],sx:{mb:1},children:"Time Remaining:"}),(0,k.jsx)(s.A,{variant:"h5",color:o.greenAccent[400],sx:{fontWeight:"bold"},children:_($)})]}),I&&Y&&(0,k.jsxs)(a.A,{children:[(0,k.jsx)(s.A,{variant:"h6",color:o.grey[300],sx:{mb:1},children:"Starts In:"}),(0,k.jsx)(s.A,{variant:"h5",color:o.blueAccent[400],sx:{fontWeight:"bold"},children:_(Y)})]})]})]}),(0,k.jsxs)(c.A,{severity:D?"success":I?"info":M?"warning":b.isActive?"info":"error",sx:{mb:3},children:[D&&"Voting is currently ACTIVE (".concat(_($)," remaining)"),I&&"Voting has not started yet. It will begin on ".concat(null===C||void 0===C?void 0:C.toLocaleString()," (in ").concat(_(Y),")"),M&&"Voting has ended on ".concat(null===w||void 0===w?void 0:w.toLocaleString()),!b.isActive&&"Voting is DISABLED by administrator"]}),(0,k.jsxs)(a.A,{sx:{mb:3,display:"flex",gap:2,flexWrap:"wrap",alignItems:"center"},children:[(0,k.jsx)(l.A,{variant:"contained",startIcon:(0,k.jsx)(Z.A,{}),onClick:async()=>{if(x)return;const e=new Date,t=new Date(e.getTime()-6e4),o=new Date(e.getTime()+6048e5),r=y(t),a=y(o);A(!0);try{(await O.A.post("".concat(V.C,"/api/votingSettings"),{startDate:r,endDate:a,isActive:!0})).data.success&&(B.oR.success("Voting started NOW! Duration: 7 days"),await f())}catch(n){console.error("Error starting voting:",n),B.oR.error("Failed to start voting now")}finally{A(!1)}},disabled:x,sx:{backgroundColor:o.blueAccent[600],color:"white",flex:1,minWidth:"180px",fontWeight:"bold","&:hover":{backgroundColor:o.blueAccent[700]}},children:"Start Voting Now"}),(0,k.jsx)(l.A,{variant:"contained",startIcon:(0,k.jsx)(U.A,{}),onClick:async()=>{try{(await O.A.post("".concat(V.C,"/api/votingSettings"),{isActive:!0,skipAutoReset:!0})).data.success&&(B.oR.success("Voting ENABLED"),await f())}catch(e){B.oR.error("Failed to enable voting")}},disabled:x||b.isActive,sx:{backgroundColor:o.greenAccent[600],color:"white",flex:1,minWidth:"150px","&:hover":{backgroundColor:o.greenAccent[700]},"&:disabled":{backgroundColor:o.greenAccent[800],color:o.grey[400]}},children:"Enable Voting"}),(0,k.jsx)(l.A,{variant:"contained",startIcon:(0,k.jsx)(G.A,{}),onClick:async()=>{try{(await O.A.post("".concat(V.C,"/api/votingSettings"),{isActive:!1,skipAutoReset:!0})).data.success&&(B.oR.success("Voting DISABLED"),await f())}catch(e){B.oR.error("Failed to disable voting")}},disabled:x||!b.isActive,sx:{backgroundColor:o.redAccent[600],color:"white",flex:1,minWidth:"150px","&:hover":{backgroundColor:o.redAccent[700]},"&:disabled":{backgroundColor:o.redAccent[800],color:o.grey[400]}},children:"Disable Voting"}),(0,k.jsx)(l.A,{variant:"outlined",startIcon:(0,k.jsx)(X.A,{}),onClick:f,sx:{borderColor:o.grey[100],color:o.grey[100],minWidth:"150px","&:hover":{borderColor:o.grey[300],backgroundColor:o.primary[500]}},children:"Refresh Status"})]}),(0,k.jsxs)(a.A,{component:"form",sx:{display:"flex",flexDirection:"column",gap:3},children:[(0,k.jsx)(d.A,{label:"Election Title",name:"electionTitle",value:b.electionTitle,onChange:S,fullWidth:!0,variant:"filled",sx:{"& .MuiFilledInput-root":{backgroundColor:o.primary[500]}}}),(0,k.jsx)(d.A,{label:"Voting Start Date & Time",name:"startDate",type:"datetime-local",value:b.startDate,onChange:S,fullWidth:!0,variant:"filled",InputLabelProps:{shrink:!0},sx:{"& .MuiFilledInput-root":{backgroundColor:o.primary[500]}}}),(0,k.jsx)(d.A,{label:"Voting End Date & Time",name:"endDate",type:"datetime-local",value:b.endDate,onChange:S,fullWidth:!0,variant:"filled",InputLabelProps:{shrink:!0},sx:{"& .MuiFilledInput-root":{backgroundColor:o.primary[500]}}}),(0,k.jsx)(p.A,{control:(0,k.jsx)(L,{checked:b.isActive,onChange:S,name:"isActive",color:"secondary"}),label:(0,k.jsx)(s.A,{color:o.grey[100],children:"Enable Voting"})}),(0,k.jsxs)(a.A,{display:"flex",gap:2,mt:2,children:[(0,k.jsx)(l.A,{variant:"contained",onClick:async()=>{A(!0);try{const e=JSON.parse(localStorage.getItem("currentUser")),t=null===e||void 0===e?void 0:e._id,o=await O.A.post("".concat(V.C,"/api/votingSettings"),{startDate:b.startDate,endDate:b.endDate,isActive:b.isActive,electionTitle:b.electionTitle,adminId:t,skipAutoReset:!0});if(o.data.success){B.oR.success("Voting settings saved successfully!");const e=o.data.settings,t=y(e.startDate),r=y(e.endDate);j({...e,startDate:t,endDate:r})}else B.oR.error(o.data.message||"Failed to save settings")}catch(o){var e,t;console.error("Error saving voting settings:",o);const r=(null===(e=o.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to save voting settings";B.oR.error(r)}finally{A(!1)}},disabled:x,sx:{backgroundColor:o.greenAccent[600],"&:hover":{backgroundColor:o.greenAccent[700]}},children:x?"Saving...":"Save Settings"}),(0,k.jsx)(l.A,{variant:"outlined",onClick:f,sx:{borderColor:o.grey[100],color:o.grey[100]},children:"Cancel"})]})]})]})]})]})]})]})})}},39194:(e,t,o)=>{o.d(t,{C:()=>r});const r="http://localhost:5000"},69120:(e,t,o)=>{var r=o(24994);t.A=void 0;var a=r(o(40039)),n=o(70579);t.A=(0,a.default)((0,n.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},54469:(e,t,o)=>{var r=o(24994);t.A=void 0;var a=r(o(40039)),n=o(70579);t.A=(0,a.default)((0,n.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow")},87014:(e,t,o)=>{var r=o(24994);t.A=void 0;var a=r(o(40039)),n=o(70579);t.A=(0,a.default)((0,n.jsx)("path",{d:"m10 16.5 6-4.5-6-4.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"PlayCircleOutline")},48625:(e,t,o)=>{var r=o(24994);t.A=void 0;var a=r(o(40039)),n=o(70579);t.A=(0,a.default)((0,n.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh")},19280:(e,t,o)=>{var r=o(24994);t.A=void 0;var a=r(o(40039)),n=o(70579);t.A=(0,a.default)((0,n.jsx)("path",{d:"M6 6h12v12H6z"}),"Stop")},67254:(e,t,o)=>{o.d(t,{A:()=>T});var r=o(98587),a=o(58168),n=o(65043),s=o(69292),i=o(98610),c=o(67266),l=o(34535),d=o(98206),p=o(4162),h=o(6803),g=o(63336),u=o(92532),x=o(72372);function A(e){return(0,x.Ay)("MuiAlert",e)}const m=(0,u.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var v=o(17392),b=o(59662),j=o(70579);const y=(0,b.A)((0,j.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),f=(0,b.A)((0,j.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),S=(0,b.A)((0,j.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),C=(0,b.A)((0,j.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var k=o(16871);const w=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],D=(0,l.Ay)(g.A,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],t["".concat(o.variant).concat((0,h.A)(o.color||o.severity))]]}})((e=>{let{theme:t}=e;const o="light"===t.palette.mode?c.e$:c.a,r="light"===t.palette.mode?c.a:c.e$;return(0,a.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[a]=e;return{props:{colorSeverity:a,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(a,"Color")]:o(t.palette[a].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(a,"StandardBg")]:r(t.palette[a].light,.9),["& .".concat(m.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(a,"IconColor")]}:{color:t.palette[a].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(r,"Color")]:o(t.palette[r].light,.6),border:"1px solid ".concat((t.vars||t).palette[r].light),["& .".concat(m.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(r,"IconColor")]}:{color:t.palette[r].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.dark})).map((e=>{let[o]=e;return{props:{colorSeverity:o,variant:"filled"},style:(0,a.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(o,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(o,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[o].dark:t.palette[o].main,color:t.palette.getContrastText(t.palette[o].main)})}}))]})})),I=(0,l.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),M=(0,l.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),R=(0,l.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),L={success:(0,j.jsx)(y,{fontSize:"inherit"}),warning:(0,j.jsx)(f,{fontSize:"inherit"}),error:(0,j.jsx)(S,{fontSize:"inherit"}),info:(0,j.jsx)(C,{fontSize:"inherit"})},T=n.forwardRef((function(e,t){const o=(0,d.b)({props:e,name:"MuiAlert"}),{action:n,children:c,className:l,closeText:g="Close",color:u,components:x={},componentsProps:m={},icon:b,iconMapping:y=L,onClose:f,role:S="alert",severity:C="success",slotProps:T={},slots:z={},variant:N="standard"}=o,W=(0,r.A)(o,w),E=(0,a.A)({},o,{color:u,severity:C,variant:N,colorSeverity:u||C}),P=(e=>{const{variant:t,color:o,severity:r,classes:a}=e,n={root:["root","color".concat((0,h.A)(o||r)),"".concat(t).concat((0,h.A)(o||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,i.A)(n,A,a)})(E),O={slots:(0,a.A)({closeButton:x.CloseButton,closeIcon:x.CloseIcon},z),slotProps:(0,a.A)({},m,T)},[V,B]=(0,p.A)("closeButton",{elementType:v.A,externalForwardedProps:O,ownerState:E}),[F,H]=(0,p.A)("closeIcon",{elementType:k.A,externalForwardedProps:O,ownerState:E});return(0,j.jsxs)(D,(0,a.A)({role:S,elevation:0,ownerState:E,className:(0,s.A)(P.root,l),ref:t},W,{children:[!1!==b?(0,j.jsx)(I,{ownerState:E,className:P.icon,children:b||y[C]||L[C]}):null,(0,j.jsx)(M,{ownerState:E,className:P.message,children:c}),null!=n?(0,j.jsx)(R,{ownerState:E,className:P.action,children:n}):null,null==n&&f?(0,j.jsx)(R,{ownerState:E,className:P.action,children:(0,j.jsx)(V,(0,a.A)({size:"small","aria-label":g,title:g,color:"inherit",onClick:f},B,{children:(0,j.jsx)(F,(0,a.A)({fontSize:"small"},H))}))}):null]}))}))},4162:(e,t,o)=>{o.d(t,{A:()=>h});var r=o(58168),a=o(98587),n=o(63462),s=o(95006),i=o(46004),c=o(53953);const l=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],d=["component","slots","slotProps"],p=["component"];function h(e,t){const{className:o,elementType:h,ownerState:g,externalForwardedProps:u,getSlotOwnerState:x,internalForwardedProps:A}=t,m=(0,a.A)(t,l),{component:v,slots:b={[e]:void 0},slotProps:j={[e]:void 0}}=u,y=(0,a.A)(u,d),f=b[e]||h,S=(0,i.A)(j[e],g),C=(0,c.A)((0,r.A)({className:o},m,{externalForwardedProps:"root"===e?y:void 0,externalSlotProps:S})),{props:{component:k},internalRef:w}=C,D=(0,a.A)(C.props,p),I=(0,n.A)(w,null==S?void 0:S.ref,t.ref),M=x?x(D):{},R=(0,r.A)({},g,M),L="root"===e?k||v:k,T=(0,s.A)(f,(0,r.A)({},"root"===e&&!v&&!b[e]&&A,"root"!==e&&!b[e]&&A,D,L&&{as:L},{ref:I}),R);return Object.keys(M).forEach((e=>{delete T[e]})),[f,T]}}}]);
//# sourceMappingURL=716.59a4ab6f.chunk.js.map