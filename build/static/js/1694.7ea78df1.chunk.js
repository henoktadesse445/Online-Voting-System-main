"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[1694],{6912:(t,e,n)=>{n.d(e,{A:()=>s});var o=n(26240),r=n(96446),a=n(85865),i=n(12841),d=n(70579);const s=t=>{let{title:e,subtitle:n}=t;const s=(0,o.A)(),c=(0,i.LU)(s.palette.mode);return(0,d.jsxs)(r.A,{mb:"30px",sx:{borderLeft:"6px solid ".concat(c.greenAccent[500]),pl:3,py:1,borderRadius:"2px"},children:[(0,d.jsx)(a.A,{variant:"h2",color:c.grey[100],fontWeight:"900",sx:{m:"0 0 5px 0",letterSpacing:"1px"},children:e}),(0,d.jsx)(a.A,{variant:"h5",color:c.greenAccent[400],sx:{fontWeight:600},children:n})]})}},13852:(t,e,n)=>{n.d(e,{A:()=>c});var o=n(26240),r=n(96446),a=n(85865),i=n(12841),d=n(15751),s=n(70579);const c=t=>{let{title:e,subtitle:n,icon:c,progress:l,increase:p}=t;const x=(0,o.A)(),m=(0,i.LU)(x.palette.mode);return(0,s.jsx)(r.A,{width:"100%",p:"24px",sx:{backgroundColor:m.primary[400],borderRadius:"16px",boxShadow:"dark"===x.palette.mode?"0 4px 20px rgba(0, 0, 0, 0.3)":"0 4px 20px rgba(0, 0, 0, 0.08)",transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"dark"===x.palette.mode?"0 8px 32px rgba(0, 0, 0, 0.4)":"0 8px 32px rgba(0, 0, 0, 0.12)"}},children:(0,s.jsxs)(r.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,s.jsxs)(r.A,{children:[(0,s.jsx)(a.A,{variant:"h3",fontWeight:"900",sx:{color:m.grey[100],mb:"8px"},children:(0,s.jsx)(d.Ay,{end:e,duration:3.5})}),(0,s.jsx)(a.A,{variant:"h6",sx:{color:m.greenAccent[500],fontWeight:500},children:n})]}),(0,s.jsx)(r.A,{sx:{backgroundColor:"rgba(134, 141, 251, 0.1)",p:"12px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:c})]})})}},51694:(t,e,n)=>{n.r(e),n.d(e,{default:()=>w});var o=n(26240),r=n(96446),a=n(85865),i=n(11906),d=n(68903),s=n(12110),c=n(26494),l=n(12841),p=n(6912),x=n(65043),m=n(77154),h=n(39194),u=n(3824),g=n(76790),A=n(17921),b=n(18315),f=n(52737),v=n(28247),y=n(14860),j=n(13852),C=n(70579);const w=()=>{const t=(0,o.A)(),e=(0,l.LU)(t.palette.mode),[n,w]=(0,x.useState)(null),[S,V]=(0,x.useState)(!0),[k,D]=(0,x.useState)(null);(0,x.useEffect)((()=>{R()}),[]);const R=async()=>{try{V(!0);const t=await m.A.get("".concat(h.C,"/api/votingReport"));t.data.success?w(t.data.report):D("Failed to load report")}catch(t){console.error("Error fetching report:",t),D("Error loading voting report")}finally{V(!1)}},M=()=>{if(!n)return"";const{summary:t,candidateResults:e,voteDetails:o,positionBreakdown:r,statistics:a}=n;return'\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>Voting Report - Wachemo University</title>\n        <style>\n          body {\n            font-family: Arial, sans-serif;\n            margin: 20px;\n            color: #333;\n          }\n          h1 {\n            color: #2c3e50;\n            border-bottom: 3px solid #3498db;\n            padding-bottom: 10px;\n          }\n          h2 {\n            color: #34495e;\n            margin-top: 30px;\n            border-bottom: 2px solid #95a5a6;\n            padding-bottom: 5px;\n          }\n          .summary-grid {\n            display: grid;\n            grid-template-columns: repeat(2, 1fr);\n            gap: 20px;\n            margin: 20px 0;\n          }\n          .summary-card {\n            background: #ecf0f1;\n            padding: 15px;\n            border-radius: 5px;\n            border-left: 4px solid #3498db;\n          }\n          .summary-card h3 {\n            margin: 0 0 10px 0;\n            color: #7f8c8d;\n            font-size: 14px;\n          }\n          .summary-card p {\n            margin: 0;\n            font-size: 24px;\n            font-weight: bold;\n            color: #2c3e50;\n          }\n          table {\n            width: 100%;\n            border-collapse: collapse;\n            margin: 20px 0;\n          }\n          th, td {\n            border: 1px solid #ddd;\n            padding: 12px;\n            text-align: left;\n          }\n          th {\n            background-color: #3498db;\n            color: white;\n            font-weight: bold;\n          }\n          tr:nth-child(even) {\n            background-color: #f2f2f2;\n          }\n          .footer {\n            margin-top: 40px;\n            padding-top: 20px;\n            border-top: 2px solid #95a5a6;\n            text-align: center;\n            color: #7f8c8d;\n            font-size: 12px;\n          }\n          @media print {\n            .no-print {\n              display: none;\n            }\n          }\n        </style>\n      </head>\n      <body>\n        <h1>Wachemo University Voting System - Election Report</h1>\n        \n        <div class="summary-grid">\n          <div class="summary-card">\n            <h3>Total Registered Voters</h3>\n            <p>'.concat(t.totalVoters,'</p>\n          </div>\n          <div class="summary-card">\n            <h3>Total Votes Cast</h3>\n            <p>').concat(t.totalVotesCast,'</p>\n          </div>\n          <div class="summary-card">\n            <h3>Voter Turnout</h3>\n            <p>').concat(t.turnoutPercentage,'%</p>\n          </div>\n          <div class="summary-card">\n            <h3>Total Candidates</h3>\n            <p>').concat(t.totalCandidates,"</p>\n          </div>\n        </div>\n\n        <h2>Candidate Results</h2>\n        <table>\n          <thead>\n            <tr>\n              <th>Rank</th>\n              <th>Name</th>\n              <th>Student ID</th>\n              <th>Department</th>\n              <th>Position</th>\n              <th>Votes</th>\n              <th>Percentage</th>\n            </tr>\n          </thead>\n          <tbody>\n            ").concat(e.map(((t,e)=>"\n              <tr>\n                <td>".concat(e+1,"</td>\n                <td>").concat(t.name,"</td>\n                <td>").concat(t.studentId,"</td>\n                <td>").concat(t.department,"</td>\n                <td>").concat(t.position,"</td>\n                <td>").concat(t.votes,"</td>\n                <td>").concat(t.percentage,"%</td>\n              </tr>\n            "))).join(""),"\n          </tbody>\n        </table>\n\n        <h2>Vote Details (Audit Trail)</h2>\n        <table>\n          <thead>\n            <tr>\n              <th>Vote ID</th>\n              <th>Candidate</th>\n              <th>Position</th>\n              <th>Timestamp</th>\n            </tr>\n          </thead>\n          <tbody>\n            ").concat(o.slice(0,50).map((t=>"\n              <tr>\n                <td>".concat(t.voteId,"</td>\n                <td>").concat(t.candidateName,"</td>\n                <td>").concat(t.position,"</td>\n                <td>").concat(new Date(t.timestamp).toLocaleString(),"</td>\n              </tr>\n            "))).join(""),"\n            ").concat(o.length>50?'<tr><td colspan="4" style="text-align: center; font-style: italic;">... and '.concat(o.length-50," more votes</td></tr>"):"",'\n          </tbody>\n        </table>\n\n        <div class="footer">\n          <p>Report Generated: ').concat(new Date(t.reportGeneratedAt).toLocaleString(),"</p>\n          <p>Election Date: ").concat(new Date(t.electionDate).toLocaleDateString(),"</p>\n          <p>Wachemo University Online Voting System</p>\n        </div>\n      </body>\n      </html>\n    ")};if(S)return(0,C.jsxs)(r.A,{m:"20px",children:[(0,C.jsx)(p.A,{title:"VOTING REPORT",subtitle:"Loading report data..."}),(0,C.jsx)(a.A,{children:"Loading..."})]});if(k)return(0,C.jsxs)(r.A,{m:"20px",children:[(0,C.jsx)(p.A,{title:"VOTING REPORT",subtitle:"Error loading report"}),(0,C.jsx)(a.A,{color:"error",children:k}),(0,C.jsx)(i.A,{variant:"contained",onClick:R,sx:{mt:2},children:"Retry"})]});if(!n)return(0,C.jsx)(r.A,{m:"20px",children:(0,C.jsx)(p.A,{title:"VOTING REPORT",subtitle:"No data available"})});const{summary:N,candidateResults:T,voteDetails:z,statistics:I}=n,G=T.map(((t,e)=>({id:t.id,rank:e+1,name:t.name,studentId:t.studentId,department:t.department,position:t.position,votes:t.votes,percentage:"".concat(t.percentage,"%")}))),L=z.map(((t,e)=>({id:e,voteId:t.voteId,candidateName:t.candidateName,position:t.position,timestamp:new Date(t.timestamp).toLocaleString()})));return(0,C.jsxs)(r.A,{m:"20px",children:[(0,C.jsxs)(r.A,{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2,children:[(0,C.jsx)(p.A,{title:"VOTING REPORT",subtitle:"Comprehensive Election Results and Statistics"}),(0,C.jsxs)(i.A,{variant:"contained",sx:{backgroundColor:e.blueAccent[600],color:e.grey[100],fontSize:"14px",fontWeight:"bold",padding:"12px 24px",borderRadius:"12px",boxShadow:"0 4px 14px 0 ".concat(e.blueAccent[800]),transition:"all 0.3s ease","&:hover":{backgroundColor:e.blueAccent[700],transform:"translateY(-2px)",boxShadow:"0 6px 20px 0 ".concat(e.blueAccent[800])}},onClick:()=>{if(!n)return;const t=window.open("","_blank"),e=M();t.document.write(e),t.document.close(),t.focus(),setTimeout((()=>{t.print()}),250)},children:[(0,C.jsx)(g.A,{sx:{mr:"10px"}}),"Download PDF Report"]})]}),(0,C.jsxs)(d.Ay,{container:!0,spacing:3,sx:{mt:2},children:[(0,C.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,C.jsx)(j.A,{title:N.totalVoters,subtitle:"Total Registered Voters",icon:(0,C.jsx)(A.A,{sx:{fontSize:35,color:e.greenAccent[500]}})})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,C.jsx)(j.A,{title:N.totalVotesCast,subtitle:"Total Votes Cast",icon:(0,C.jsx)(b.A,{sx:{fontSize:35,color:e.greenAccent[500]}})})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,C.jsx)(j.A,{title:N.turnoutPercentage,subtitle:"Voter Turnout %",icon:(0,C.jsx)(f.A,{sx:{fontSize:35,color:e.greenAccent[500]}})})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,C.jsx)(j.A,{title:N.totalCandidates,subtitle:"Total Candidates",icon:(0,C.jsx)(v.A,{sx:{fontSize:35,color:e.greenAccent[500]}})})})]}),(0,C.jsx)(s.A,{sx:{mt:"40px",backgroundColor:e.primary[400],borderRadius:"16px",boxShadow:"dark"===t.palette.mode?"0 4px 20px rgba(0, 0, 0, 0.3)":"0 4px 20px rgba(0, 0, 0, 0.08)"},children:(0,C.jsxs)(c.A,{sx:{p:"24px !important"},children:[(0,C.jsx)(a.A,{variant:"h4",sx:{mb:3,fontWeight:700,color:e.grey[100]},children:"Candidate Results"}),(0,C.jsx)(r.A,{height:"480px",sx:{"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"1px solid ".concat(e.primary[500]),fontSize:"14px"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"dark"===t.palette.mode?"rgba(134, 141, 251, 0.1)":"rgba(134, 141, 251, 0.08)",color:"dark"===t.palette.mode?e.blueAccent[300]:e.blueAccent[600],borderBottom:"2px solid ".concat(e.primary[500]),fontSize:"15px",fontWeight:"bold"},"& .MuiDataGrid-virtualScroller":{backgroundColor:"transparent"},"& .MuiDataGrid-footerContainer":{borderTop:"1px solid ".concat(e.primary[500]),backgroundColor:"transparent"},"& .MuiDataGrid-columnSeparator":{display:"none"}},children:(0,C.jsx)(u.z,{rows:G,columns:[{field:"rank",headerName:"Rank",width:80},{field:"name",headerName:"Name",width:200},{field:"studentId",headerName:"Student ID",width:130},{field:"department",headerName:"Department",width:180},{field:"position",headerName:"Position",width:180},{field:"votes",headerName:"Votes",width:100},{field:"percentage",headerName:"Percentage",width:120}]})})]})}),(0,C.jsx)(s.A,{sx:{mt:"40px",backgroundColor:e.primary[400],borderRadius:"16px",boxShadow:"dark"===t.palette.mode?"0 4px 20px rgba(0, 0, 0, 0.3)":"0 4px 20px rgba(0, 0, 0, 0.08)"},children:(0,C.jsxs)(c.A,{sx:{p:"24px !important"},children:[(0,C.jsx)(a.A,{variant:"h4",sx:{mb:3,fontWeight:700,color:e.grey[100]},children:"Vote Details (Audit Trail)"}),(0,C.jsx)(r.A,{height:"480px",sx:{"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"1px solid ".concat(e.primary[500]),fontSize:"14px"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"dark"===t.palette.mode?"rgba(104, 112, 250, 0.1)":"rgba(104, 112, 250, 0.08)",color:"dark"===t.palette.mode?e.blueAccent[300]:e.blueAccent[600],borderBottom:"2px solid ".concat(e.primary[500]),fontSize:"15px",fontWeight:"bold"},"& .MuiDataGrid-virtualScroller":{backgroundColor:"transparent"},"& .MuiDataGrid-footerContainer":{borderTop:"1px solid ".concat(e.primary[500]),backgroundColor:"transparent"},"& .MuiDataGrid-columnSeparator":{display:"none"}},children:(0,C.jsx)(u.z,{rows:L,columns:[{field:"voteId",headerName:"Vote ID",width:200},{field:"candidateName",headerName:"Candidate",width:200},{field:"position",headerName:"Position",width:180},{field:"timestamp",headerName:"Timestamp",width:200}]})})]})}),(0,C.jsxs)(r.A,{mt:"40px",children:[(0,C.jsx)(a.A,{variant:"h4",sx:{mb:3,fontWeight:700},children:"Additional Statistics"}),(0,C.jsxs)(d.Ay,{container:!0,spacing:3,children:[(0,C.jsx)(d.Ay,{item:!0,xs:12,md:4,children:(0,C.jsx)(j.A,{title:I.averageVotesPerCandidate,subtitle:"Avg Votes per Candidate",icon:(0,C.jsx)(y.A,{sx:{fontSize:35,color:e.greenAccent[500]}})})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,md:4,children:(0,C.jsx)(j.A,{title:I.highestVotes,subtitle:"Highest Votes",icon:(0,C.jsx)(v.A,{sx:{fontSize:35,color:e.greenAccent[500]}})})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,md:4,children:(0,C.jsx)(j.A,{title:I.lowestVotes,subtitle:"Lowest Votes",icon:(0,C.jsx)(b.A,{sx:{fontSize:35,color:e.greenAccent[500]}})})})]})]}),(0,C.jsx)(s.A,{sx:{mt:"40px",backgroundColor:"dark"===t.palette.mode?"rgba(134, 141, 251, 0.05)":"rgba(134, 141, 251, 0.03)",borderRadius:"16px",border:"1px solid ".concat("dark"===t.palette.mode?e.primary[500]:e.grey[700])},children:(0,C.jsxs)(c.A,{children:[(0,C.jsx)(a.A,{variant:"h6",color:e.greenAccent[500],fontWeight:"bold",gutterBottom:!0,children:"Report Information"}),(0,C.jsxs)(d.Ay,{container:!0,spacing:2,children:[(0,C.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,C.jsxs)(a.A,{variant:"body2",color:e.grey[100],children:[(0,C.jsx)("strong",{children:"Report Generated:"})," ",new Date(N.reportGeneratedAt).toLocaleString()]})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,C.jsxs)(a.A,{variant:"body2",color:e.grey[100],children:[(0,C.jsx)("strong",{children:"Election Date:"})," ",new Date(N.electionDate).toLocaleDateString()]})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,children:(0,C.jsx)(a.A,{variant:"body2",color:e.grey[300],sx:{mt:1,fontStyle:"italic"},children:"This report includes secure Vote IDs for audit trail purposes. All data is verified and encrypted."})})]})]})})]})}},39194:(t,e,n)=>{n.d(e,{C:()=>o});const o="http://localhost:5000"},28247:(t,e,n)=>{var o=n(24994);e.A=void 0;var r=o(n(40039)),a=n(70579);e.A=(0,r.default)((0,a.jsx)("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m7 6c-1.65 0-3-1.35-3-3V5h6v6c0 1.65-1.35 3-3 3m7-6c0 1.3-.84 2.4-2 2.82V7h2z"}),"EmojiEventsOutlined")},18315:(t,e,n)=>{var o=n(24994);e.A=void 0;var r=o(n(40039)),a=n(70579);e.A=(0,r.default)((0,a.jsx)("path",{d:"M18 13h-.68l-2 2h1.91L19 17H5l1.78-2h2.05l-2-2H6l-3 3v4c0 1.1.89 2 1.99 2H19c1.1 0 2-.89 2-2v-4zm1 7H5v-1h14zm-7.66-4.98c.39.39 1.02.39 1.41 0l6.36-6.36c.39-.39.39-1.02 0-1.41L14.16 2.3c-.38-.4-1.01-.4-1.4-.01L6.39 8.66c-.39.39-.39 1.02 0 1.41zm2.12-10.61L17 7.95l-4.95 4.95-3.54-3.54z"}),"HowToVoteOutlined")},17921:(t,e,n)=>{var o=n(24994);e.A=void 0;var r=o(n(40039)),a=n(70579);e.A=(0,r.default)((0,a.jsx)("path",{d:"M9 13.75c-2.34 0-7 1.17-7 3.5V19h14v-1.75c0-2.33-4.66-3.5-7-3.5M4.34 17c.84-.58 2.87-1.25 4.66-1.25s3.82.67 4.66 1.25zM9 12c1.93 0 3.5-1.57 3.5-3.5S10.93 5 9 5 5.5 6.57 5.5 8.5 7.07 12 9 12m0-5c.83 0 1.5.67 1.5 1.5S9.83 10 9 10s-1.5-.67-1.5-1.5S8.17 7 9 7m7.04 6.81c1.16.84 1.96 1.96 1.96 3.44V19h4v-1.75c0-2.02-3.5-3.17-5.96-3.44M15 12c1.93 0 3.5-1.57 3.5-3.5S16.93 5 15 5c-.54 0-1.04.13-1.5.35.63.89 1 1.98 1 3.15s-.37 2.26-1 3.15c.46.22.96.35 1.5.35"}),"PeopleOutlined")},52737:(t,e,n)=>{var o=n(24994);e.A=void 0;var r=o(n(40039)),a=n(70579);e.A=(0,r.default)((0,a.jsx)("path",{d:"M7.5 4C5.57 4 4 5.57 4 7.5S5.57 11 7.5 11 11 9.43 11 7.5 9.43 4 7.5 4m0 5C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m9 4c-1.93 0-3.5 1.57-3.5 3.5s1.57 3.5 3.5 3.5 3.5-1.57 3.5-3.5-1.57-3.5-3.5-3.5m0 5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5M5.41 20 4 18.59 18.59 4 20 5.41z"}),"PercentOutlined")},26494:(t,e,n)=>{n.d(e,{A:()=>g});var o=n(58168),r=n(98587),a=n(65043),i=n(69292),d=n(98610),s=n(34535),c=n(98206),l=n(92532),p=n(72372);function x(t){return(0,p.Ay)("MuiCardContent",t)}(0,l.A)("MuiCardContent",["root"]);var m=n(70579);const h=["className","component"],u=(0,s.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),g=a.forwardRef((function(t,e){const n=(0,c.b)({props:t,name:"MuiCardContent"}),{className:a,component:s="div"}=n,l=(0,r.A)(n,h),p=(0,o.A)({},n,{component:s}),g=(t=>{const{classes:e}=t;return(0,d.A)({root:["root"]},x,e)})(p);return(0,m.jsx)(u,(0,o.A)({as:s,className:(0,i.A)(g.root,a),ownerState:p,ref:e},l))}))},12110:(t,e,n)=>{n.d(e,{A:()=>A});var o=n(58168),r=n(98587),a=n(65043),i=n(69292),d=n(98610),s=n(34535),c=n(98206),l=n(63336),p=n(92532),x=n(72372);function m(t){return(0,x.Ay)("MuiCard",t)}(0,p.A)("MuiCard",["root"]);var h=n(70579);const u=["className","raised"],g=(0,s.Ay)(l.A,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})((()=>({overflow:"hidden"}))),A=a.forwardRef((function(t,e){const n=(0,c.b)({props:t,name:"MuiCard"}),{className:a,raised:s=!1}=n,l=(0,r.A)(n,u),p=(0,o.A)({},n,{raised:s}),x=(t=>{const{classes:e}=t;return(0,d.A)({root:["root"]},m,e)})(p);return(0,h.jsx)(g,(0,o.A)({className:(0,i.A)(x.root,a),elevation:s?8:void 0,ref:e,ownerState:p},l))}))}}]);
//# sourceMappingURL=1694.7ea78df1.chunk.js.map