{"version":3,"file":"static/js/3140.c044f449.chunk.js","mappings":"oTAaA,MAoGA,EApGmBA,KACf,MAAMC,GAAWC,EAAAA,EAAAA,OACVC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,KAClCG,EAASC,IAAcJ,EAAAA,EAAAA,WAAS,GAMjCK,EAAeC,GAAYC,EAAAA,GAAMC,MAAM,GAADC,OAAIH,GAAW,wCAA0C,CAEjGI,UAAW,kBAgDf,OACIC,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACIC,EAAAA,EAAAA,KAACC,EAAAA,EAAO,KACRD,EAAAA,EAAAA,KAAA,WAASH,UAAU,UAASE,UACxBC,EAAAA,EAAAA,KAAA,OAAKH,UAAU,YAAWE,UACtBD,EAAAA,EAAAA,MAAA,OAAKD,UAAU,iBAAgBE,SAAA,EAE3BC,EAAAA,EAAAA,KAAA,OAAKH,UAAU,eAAcE,UACzBC,EAAAA,EAAAA,KAAA,UAAAD,UAAQC,EAAAA,EAAAA,KAAA,OAAKE,IAAKC,EAAaC,IAAI,uBAGvCN,EAAAA,EAAAA,MAAA,OAAKD,UAAU,cAAaE,SAAA,EACxBC,EAAAA,EAAAA,KAAA,MAAIH,UAAU,aAAYE,SAAC,iBAE3BC,EAAAA,EAAAA,KAACK,EAAAA,GAAc,KACfP,EAAAA,EAAAA,MAAA,OAAKD,UAAU,aAAYE,SAAA,EACvBC,EAAAA,EAAAA,KAAA,SAAOM,IAAI,QAAOP,UAACC,EAAAA,EAAAA,KAAA,KAAGH,UAAU,6CAChCG,EAAAA,EAAAA,KAAA,SAAOO,KAAK,OAAOC,KAAK,QAAQC,GAAG,QAAQC,YAAY,uBAAuBC,SAAWC,GAAM1B,EAAY0B,EAAEC,OAAOC,aAExHhB,EAAAA,EAAAA,MAAA,OAAKD,UAAU,aAAYE,SAAA,EACvBC,EAAAA,EAAAA,KAAA,SAAOM,IAAI,OAAMP,UAACC,EAAAA,EAAAA,KAAA,KAAGH,UAAU,sBAC/BG,EAAAA,EAAAA,KAAA,SAAOO,KAAK,WAAWC,KAAK,OAAOC,GAAG,OAAOC,YAAY,WAAWC,SAAWC,GAAMvB,EAAYuB,EAAEC,OAAOC,aAE9Gd,EAAAA,EAAAA,KAAA,OAAKH,UAAU,yBAAwBE,UAEnCC,EAAAA,EAAAA,KAAA,UAAQe,QAtEhBC,UAChBzB,GAAW,GAEX,IACI,MAAM0B,QAAiBC,EAAAA,EAAMC,KAAK,GAADvB,OAAIwB,EAAAA,EAAQ,eAAe,CAAEnC,WAAUG,aAExE,GAAI6B,EAASI,KAAKC,QAAS,CAEvB,MAAMC,EAAYN,EAASI,KAAKG,aAAe,CAC3CC,IAAK,2BACLxC,SAAUA,EACVyC,KAAM,SAGVC,QAAQC,IAAI,kDAAyCL,GACrDM,aAAaC,QAAQ,cAAeC,KAAKC,UAAUT,IAGnD,MAAMU,EAAQJ,aAAaK,QAAQ,eACnCP,QAAQC,IAAI,qCAAiCK,GA5B9BvC,EAAAA,GAAM4B,QAAQ,gBAAiB,CAEtDzB,UAAW,kBA6BHsC,YAAW,KACPpD,EAAS,SAAS,GACnB,IACP,MAEIS,EAAYyB,EAASI,KAAK5B,SAAW,4BAE7C,CACA,MAAOE,GACHgC,QAAQhC,MAAM,gBAAiBA,GAC3BA,EAAMsB,UAAYtB,EAAMsB,SAASI,MAAQ1B,EAAMsB,SAASI,KAAK5B,QAC7DD,EAAYG,EAAMsB,SAASI,KAAK5B,SACzBE,EAAMF,QACbD,EAAYG,EAAMF,SAElBD,EAAY,wDAEpB,CAAC,QACGD,GAAW,EACf,GA6BsD6C,SAAU9C,EAAQS,SAAET,GAAUU,EAAAA,EAAAA,KAAA,OAAKH,UAAU,YAAmB,wBAWhH,C","sources":["components/Sign/AdminLogin.js"],"sourcesContent":["import \"./SignUtils/CSS/Sign.css\"\r\nimport \"./SignUtils/CSS/style.css.map\"\r\nimport \"./SignUtils/fonts/material-icon/css/material-design-iconic-font.min.css\"\r\nimport signinimage from \"./SignUtils/images/adminbanner.png\"\r\nimport { useState } from 'react';\r\nimport Nav_bar from \"../Navbar/Navbar\";\r\nimport axios from \"axios\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { BASE_URL } from \"../../helper\";\r\n\r\n\r\nconst AdminLogin = () => {\r\n    const navigate = useNavigate();\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const loginSuccess = () => toast.success(\"Login Success\", {\r\n        // position: toast.POSITION.TOP_CENTER,\r\n        className: \"toast-message\",\r\n    });\r\n    const loginFailed = (message) => toast.error(`${message || \"Invalid Details \\n Please Try Again!\"}`, {\r\n        // position: toast.POSITION.TOP_CENTER,\r\n        className: \"toast-message\",\r\n    });\r\n\r\n    const handleLogin = async () => {\r\n        setLoading(true);\r\n\r\n        try {\r\n            const response = await axios.post(`${BASE_URL}/adminlogin`, { username, password });\r\n\r\n            if (response.data.success) {\r\n                // Store admin session data\r\n                const adminData = response.data.adminObject || {\r\n                    _id: \"6766786c4f039103c8120e98\",\r\n                    username: username,\r\n                    role: \"admin\"\r\n                };\r\n\r\n                console.log(\"ðŸ’¾ Saving admin data to localStorage:\", adminData);\r\n                localStorage.setItem('currentUser', JSON.stringify(adminData));\r\n\r\n                // Verify it was saved\r\n                const saved = localStorage.getItem('currentUser');\r\n                console.log(\"âœ… Verified localStorage save:\", saved);\r\n\r\n                loginSuccess();\r\n                setTimeout(() => {\r\n                    navigate('/Admin');\r\n                }, 2000)\r\n            }\r\n            else {\r\n                loginFailed(response.data.message || \"Invalid admin credentials\");\r\n            }\r\n        }\r\n        catch (error) {\r\n            console.error('Login failed:', error);\r\n            if (error.response && error.response.data && error.response.data.message) {\r\n                loginFailed(error.response.data.message);\r\n            } else if (error.message) {\r\n                loginFailed(error.message);\r\n            } else {\r\n                loginFailed(\"Network error. Please check if the server is running.\");\r\n            }\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n\r\n    };\r\n\r\n    return (\r\n        <div >\r\n            <Nav_bar />\r\n            <section className=\"sign-in\">\r\n                <div className=\"container\">\r\n                    <div className=\"signin-content\">\r\n\r\n                        <div className=\"signin-image\">\r\n                            <figure><img src={signinimage} alt=\"sing up image\" /></figure>\r\n                        </div>\r\n\r\n                        <div className=\"signin-form\">\r\n                            <h2 className=\"form-title\">Admin Login</h2>\r\n                            {/* <form method=\"\" className=\"register-form\" id=\"login-form\"> */}\r\n                            <ToastContainer />\r\n                            <div className=\"form-group\">\r\n                                <label for=\"email\"><i className=\"zmdi zmdi-account material-icons-name\"></i></label>\r\n                                <input type=\"text\" name=\"email\" id=\"email\" placeholder=\"Enter Admin Username\" onChange={(e) => setUsername(e.target.value)} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label for=\"pass\"><i className=\"zmdi zmdi-lock\"></i></label>\r\n                                <input type=\"password\" name=\"pass\" id=\"pass\" placeholder=\"Password\" onChange={(e) => setPassword(e.target.value)} />\r\n                            </div>\r\n                            <div className=\"form-group form-button\">\r\n                                {/* <input type=\"submit\" name=\"signin\" id=\"signin\" className=\"form-submit\" value=\"Log in\" onSubmit={handleLogin} /> */}\r\n                                <button onClick={handleLogin} disabled={loading}>{loading ? <div className=\"spinner\"></div> : 'Login'}</button>\r\n\r\n                            </div>\r\n\r\n                            {/* </form> */}\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </section>\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default AdminLogin;"],"names":["AdminLogin","navigate","useNavigate","username","setUsername","useState","password","setPassword","loading","setLoading","loginFailed","message","toast","error","concat","className","_jsxs","children","_jsx","Nav_bar","src","signinimage","alt","ToastContainer","for","type","name","id","placeholder","onChange","e","target","value","onClick","async","response","axios","post","BASE_URL","data","success","adminData","adminObject","_id","role","console","log","localStorage","setItem","JSON","stringify","saved","getItem","setTimeout","disabled"],"sourceRoot":""}