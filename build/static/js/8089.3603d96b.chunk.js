/*! For license information please see 8089.3603d96b.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[8089],{97051:(e,t,n)=>{n.d(t,{A:()=>h});n(38421);var a=n(14282),s=n(53519),i=n(88649),r=n(52624),o=(n(32048),n(1880)),l=n(73216),c=n(65043),d=n(13204),u=n(12841),p=n(26240),m=n(70579);const h=function(){const e=(0,l.Zp)(),t=(0,l.zy)(),n=(0,p.A)(),h=(0,c.useContext)(u.Ig),f="dark"===n.palette.mode,x=e=>t.pathname===e;return(0,m.jsx)(r.A,{expand:"lg",className:"Nav",children:(0,m.jsxs)(s.A,{fluid:!0,children:[(0,m.jsx)(r.A.Brand,{href:"/User",className:"Heading",children:"Online Voting System"}),(0,m.jsx)(r.A.Toggle,{"aria-controls":"navbarScroll"}),(0,m.jsxs)(r.A.Collapse,{id:"navbarScroll",children:[(0,m.jsxs)(i.A,{className:"me-auto my-2 my-lg-0 Nav-items-container",style:{maxHeight:"100px"},navbarScroll:!0,children:[(0,m.jsx)(i.A.Link,{className:"Nav-items ".concat(x("/User")?"active":""),href:"/User",children:"Home"}),(0,m.jsx)(i.A.Link,{className:"Nav-items ".concat(x("/Vote")?"active":""),href:"/Vote",children:"Vote Now"}),(0,m.jsx)(i.A.Link,{className:"Nav-items ".concat(x("/Results")?"active":""),href:"/Results",children:"View Results"}),(0,m.jsx)(i.A.Link,{className:"Nav-items ".concat(x("/registerCandidate")?"active":""),href:"/registerCandidate",children:"Register as Candidate"}),(0,m.jsx)(i.A.Link,{className:"Nav-items ".concat(x("/Edit")?"active":""),href:"/Edit",children:"My Account"})]}),(0,m.jsxs)(i.A,{className:"ml-auto",children:[(0,m.jsx)(a.A,{variant:f?"outline-light":"outline-dark",onClick:h.toggleColorMode,size:"sm",className:"ThemeToggleButton",style:{marginLeft:"10px",borderColor:"transparent",backgroundColor:"transparent",color:f?"#fff":"#222"},children:f?(0,m.jsx)(d.V6H,{}):(0,m.jsx)(d.wQq,{})}),(0,m.jsx)(a.A,{variant:f?"outline-light":"outline-primary",onClick:()=>{const t=localStorage.getItem("theme");o.A.remove("myCookie"),localStorage.clear(),sessionStorage.clear(),t&&localStorage.setItem("theme",t),e("/Login")},style:{marginLeft:"10px",borderRadius:"0.5rem",fontWeight:"600"},children:"Logout"})]})]})]})})}},34320:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});n(57406),n(37354);var a=n(78745),s=n(65043),i=n(77154),r=n(39194),o=n(73216),l=n(35475),c=n(1880),d=n(97051),u=n(70579);const p=()=>{const[e,t]=(0,s.useState)(!1),[n,p]=(0,s.useState)(!1),[m,h]=(0,s.useState)(null),[f,x]=(0,s.useState)(null),[v,g]=(0,s.useState)(!0),[N,b]=(0,s.useState)(!1),[j,E]=(0,s.useState)(""),y=(0,o.Zp)(),C=e=>a.oR.error(e||"Invalid Details \n Please Try Again!",{className:"toast-message"});(0,s.useEffect)((()=>{const e=c.A.get("myCookie");if(e){p(!0),h(e);(async()=>{try{const t=await i.A.get("".concat(r.C,"/getVoterbyID/").concat(e));t.data.success&&t.data.voter&&x(t.data.voter)}catch(t){console.error("Error fetching user info:",t)}finally{g(!1)}})()}else g(!1)}),[]);const[S,A]=(0,s.useState)({bio:"",image:null,symbol:null,authenticatedDocument:null}),k=e=>{const{name:t,files:n}=e.target;A({...S,[t]:n[0]})};return(0,u.jsxs)("div",{children:[(0,u.jsx)(d.A,{}),(0,u.jsx)("section",{className:"candidate-register-section",children:(0,u.jsx)("div",{className:"candidate-register-wrapper",children:(0,u.jsxs)("div",{className:"candidate-register-card",children:[(0,u.jsxs)("div",{className:"form-header",children:[(0,u.jsx)("h2",{children:"Register as Candidate"}),(0,u.jsx)("p",{className:"subtitle",children:"Submit your application to become a candidate"})]}),!n&&(0,u.jsxs)("div",{className:"status-box warning",children:[(0,u.jsx)("p",{children:(0,u.jsx)("strong",{children:"Please login first to register as a candidate."})}),(0,u.jsx)(l.N_,{to:"/Login",className:"action-link",children:"Go to Login Page"})]}),(0,u.jsxs)("div",{className:"form-body",children:[(0,u.jsx)(a.N9,{}),N&&(0,u.jsxs)("div",{className:"status-box success",children:[(0,u.jsx)("h4",{children:"Request Successful"}),(0,u.jsx)("p",{children:j})]}),(0,u.jsxs)("form",{method:"POST",encType:"multipart/form-data",className:"register-form",children:[n&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"info-box info",children:"Your registration will be reviewed by an admin. You will be notified once approved."}),f&&(0,u.jsxs)("div",{className:"user-profile-summary",children:[(0,u.jsx)("h4",{children:"Your Profile"}),(0,u.jsxs)("div",{className:"profile-grid",children:[(0,u.jsxs)("div",{className:"profile-item",children:[(0,u.jsx)("span",{className:"label",children:"Name"}),(0,u.jsx)("span",{className:"value",children:f.name||"N/A"})]}),(0,u.jsxs)("div",{className:"profile-item",children:[(0,u.jsx)("span",{className:"label",children:"Email"}),(0,u.jsx)("span",{className:"value",children:f.email||"N/A"})]}),(0,u.jsxs)("div",{className:"profile-item",children:[(0,u.jsx)("span",{className:"label",children:"Student ID"}),(0,u.jsx)("span",{className:"value",children:f.voterId||"N/A"})]}),(0,u.jsxs)("div",{className:"profile-item",children:[(0,u.jsx)("span",{className:"label",children:"Department"}),(0,u.jsx)("span",{className:"value",children:f.department||"N/A"})]}),f.college&&(0,u.jsxs)("div",{className:"profile-item",children:[(0,u.jsx)("span",{className:"label",children:"College"}),(0,u.jsx)("span",{className:"value",children:f.college})]})]}),(0,u.jsx)("p",{className:"note",children:"This information will be used for your candidate profile."})]})]}),(0,u.jsx)("div",{className:"info-box primary",children:(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Position Assignment:"})," Positions will be automatically assigned after the election ends based on the total number of votes you receive."]})}),(0,u.jsxs)("div",{className:"form-field",children:[(0,u.jsx)("label",{htmlFor:"bio",children:"Candidate Bio"}),(0,u.jsx)("textarea",{name:"bio",id:"bio",value:S.bio,onChange:e=>{const{name:t,value:n}=e.target;A({...S,[t]:n})},placeholder:"Tell us about yourself...",rows:"4"}),(0,u.jsx)("small",{children:"(Optional) A brief description that will appear on your public profile"})]}),(0,u.jsxs)("div",{className:"form-row",children:[(0,u.jsxs)("div",{className:"form-field",children:[(0,u.jsx)("label",{htmlFor:"image",children:"Profile Photo"}),(0,u.jsx)("div",{className:"file-input-wrapper",children:(0,u.jsx)("input",{type:"file",name:"image",id:"image",onChange:k,accept:"image/*"})}),(0,u.jsx)("small",{children:"(Optional) Upload a clear photo of yourself"})]}),(0,u.jsxs)("div",{className:"form-field",children:[(0,u.jsx)("label",{htmlFor:"symbol",children:"Proposal Document"}),(0,u.jsx)("div",{className:"file-input-wrapper",children:(0,u.jsx)("input",{type:"file",name:"symbol",id:"symbol",onChange:k,accept:"image/*,.pdf,.doc,.docx"})}),(0,u.jsx)("small",{children:"(Optional) Your manifesto or proposal"})]})]}),(0,u.jsxs)("div",{className:"form-field required-field",children:[(0,u.jsxs)("label",{htmlFor:"authenticatedDocument",children:["Authenticated Document ",(0,u.jsx)("span",{className:"required",children:"*"})]}),(0,u.jsx)("div",{className:"file-input-wrapper",children:(0,u.jsx)("input",{type:"file",name:"authenticatedDocument",id:"authenticatedDocument",onChange:k,accept:"image/*,.pdf",required:!0})}),(0,u.jsx)("small",{className:"error-text",children:"Upload a verified document proving you are a class representative"})]}),(0,u.jsx)("div",{className:"form-actions",children:(0,u.jsx)("button",{onClick:async e=>{if(t(!0),e.preventDefault(),!n||!m)return C("Please login first to register as a candidate."),void t(!1);if(!S.authenticatedDocument)return C("Authenticated document is required. Please upload a verified document proving you are a class representative."),void t(!1);if(!f)return C("Unable to load your registration information. Please try again."),void t(!1);const s=new FormData;s.append("fullName",f.name||""),s.append("party",f.department||""),s.append("bio",S.bio),s.append("userId",m),S.image&&s.append("image",S.image),S.symbol&&s.append("symbol",S.symbol),s.append("authenticatedDocument",S.authenticatedDocument);try{const e=await i.A.post("".concat(r.C,"/createCandidate"),s,{headers:{"Content-Type":"multipart/form-data"}});e.data.success?(a.oR.success("Request successful. Candidate registration submitted! Waiting for admin approval.",{className:"toast-message"}),b(!0),E("Request successful. Your application has been sent and awaits admin approval."),setTimeout((()=>{y("/User")}),2e3)):C(e.data.message||"Registration failed. Please try again.")}catch(c){var o,l;const e=(null===(o=c.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message)||"Invalid Details \n Please Try Again!";C(e),console.error(c)}finally{t(!1)}},disabled:e||!n,className:"btn-submit",children:e?(0,u.jsx)("div",{className:"spinner-small"}):"Submit Application"})})]})]})]})})})]})}},39194:(e,t,n)=>{n.d(t,{C:()=>a});const a="http://localhost:5000"},53519:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(98139),s=n.n(a),i=n(65043),r=n(67852),o=n(70579);const l=i.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:a=!1,as:i="div",className:l,...c}=e;const d=(0,r.oU)(n,"container"),u="string"===typeof a?"-".concat(a):"-fluid";return(0,o.jsx)(i,{ref:t,...c,className:s()(l,a?"".concat(d).concat(u):d)})}));l.displayName="Container";const c=l},9998:(e,t,n)=>{n.d(t,{_K:()=>p,ns:()=>u,kp:()=>d,ze:()=>m,Ay:()=>x});var a=n(98587),s=n(25540),i=n(65043),r=n(97950);const o=!1;var l=n(88726),c="unmounted",d="exited",u="entering",p="entered",m="exiting",h=function(e){function t(t,n){var a;a=e.call(this,t,n)||this;var s,i=n&&!n.isMounting?t.enter:t.appear;return a.appearStatus=null,t.in?i?(s=d,a.appearStatus=u):s=p:s=t.unmountOnExit||t.mountOnEnter?c:d,a.state={status:s},a.nextCallback=null,a}(0,s.A)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===c?{status:d}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==u&&n!==p&&(t=u):n!==u&&n!==p||(t=m)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,a=this.props.timeout;return e=t=n=a,null!=a&&"number"!==typeof a&&(e=a.exit,t=a.enter,n=void 0!==a.appear?a.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===u){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===d&&this.setState({status:c})},n.performEnter=function(e){var t=this,n=this.props.enter,a=this.context?this.context.isMounting:e,s=this.props.nodeRef?[a]:[r.findDOMNode(this),a],i=s[0],l=s[1],c=this.getTimeouts(),d=a?c.appear:c.enter;!e&&!n||o?this.safeSetState({status:p},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,l),this.safeSetState({status:u},(function(){t.props.onEntering(i,l),t.onTransitionEnd(d,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(i,l)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),a=this.props.nodeRef?void 0:r.findDOMNode(this);t&&!o?(this.props.onExit(a),this.safeSetState({status:m},(function(){e.props.onExiting(a),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:d},(function(){e.props.onExited(a)}))}))}))):this.safeSetState({status:d},(function(){e.props.onExited(a)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),a=null==e&&!this.props.addEndListener;if(n&&!a){if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=s[0],o=s[1];this.props.addEndListener(i,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,n=t.children,s=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,a.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(l.A.Provider,{value:null},"function"===typeof n?n(e,s):i.cloneElement(i.Children.only(n),s))},t}(i.Component);function f(){}h.contextType=l.A,h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},h.UNMOUNTED=c,h.EXITED=d,h.ENTERING=u,h.ENTERED=p,h.EXITING=m;const x=h},32048:()=>{},57406:()=>{},37354:(e,t,n)=>{e.exports=n.p+"static/media/style.css.9ca26aad3318bb6a049d.map"},1880:(e,t,n)=>{function a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)e[a]=n[a]}return e}n.d(t,{A:()=>s});var s=function e(t,n){function s(e,s,i){if("undefined"!==typeof document){"number"===typeof(i=a({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var o in i)i[o]&&(r+="; "+o,!0!==i[o]&&(r+="="+i[o].split(";")[0]));return document.cookie=e+"="+t.write(s,e)+r}}return Object.create({set:s,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],a={},s=0;s<n.length;s++){var i=n[s].split("="),r=i.slice(1).join("=");try{var o=decodeURIComponent(i[0]);if(a[o]=t.read(r,o),e===o)break}catch(l){}}return e?a[e]:a}},remove:function(e,t){s(e,"",a({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,a({},this.attributes,t))},withConverter:function(t){return e(a({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}}]);
//# sourceMappingURL=8089.3603d96b.chunk.js.map