/*! For license information please see 4320.5db69450.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[4320],{34320:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});a(57406),a(37354);var i=a(78745),o=a(65043),n=a(77154),r=a(39194),s=a(73216),d=a(35475),l=a(1880),c=a(70579);const p=()=>{const[e,t]=(0,o.useState)(!1),[a,p]=(0,o.useState)(!1),[m,u]=(0,o.useState)(!1),[g,x]=(0,o.useState)(null),[f,h]=(0,o.useState)(null),[b,v]=(0,o.useState)(!0),y=(0,s.Zp)(),j=e=>i.oR.error(e||"Invalid Details \n Please Try Again!",{className:"toast-message"});(0,o.useEffect)((()=>{const e=l.A.get("myCookie");if(e){u(!0),x(e);(async()=>{try{const t=await n.A.get("".concat(r.C,"/getVoterbyID/").concat(e));t.data.success&&t.data.voter&&h(t.data.voter)}catch(t){console.error("Error fetching user info:",t)}finally{v(!1)}})()}else v(!1)}),[]);const[C,N]=(0,o.useState)({cgpa:"",bio:"",image:null,symbol:null,authenticatedDocument:null}),D=e=>{const{name:t,value:a}=e.target;N({...C,[t]:a})},S=e=>{const{name:t,files:a}=e.target;N({...C,[t]:a[0]})};return(0,c.jsx)("div",{children:(0,c.jsxs)("section",{className:"Candidatesignup",children:[(0,c.jsx)("div",{className:"FormTitle",children:(0,c.jsx)("h2",{children:"Register as Candidate"})}),a&&(0,c.jsx)("div",{style:{padding:"15px",margin:"15px auto",maxWidth:"800px",backgroundColor:"#e8f5e9",border:"1px solid #2e7d32",borderRadius:"6px",color:"#2e7d32"},children:"Your application has been submitted and is pending admin approval."}),!m&&(0,c.jsxs)("div",{style:{padding:"20px",textAlign:"center",backgroundColor:"#fff3cd",margin:"20px auto",maxWidth:"600px",borderRadius:"5px"},children:[(0,c.jsx)("p",{style:{margin:0,color:"#856404"},children:(0,c.jsx)("strong",{children:"Please login first to register as a candidate."})}),(0,c.jsx)(d.N_,{to:"/Login",style:{color:"#2196F3",textDecoration:"none"},children:"Go to Login Page"})]}),(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("div",{className:"signup-content",children:(0,c.jsxs)("div",{className:"signup-form",children:[(0,c.jsx)(i.N9,{}),(0,c.jsxs)("form",{method:"POST",enctype:"multipart/form-data",className:"register-form",id:"register-form",children:[m&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{style:{padding:"10px",marginBottom:"20px",backgroundColor:"#d1ecf1",borderRadius:"5px",fontSize:"14px",color:"#0c5460"},children:"Your registration will be reviewed by an admin. You will be notified once approved."}),f&&(0,c.jsxs)("div",{style:{padding:"15px",marginBottom:"20px",backgroundColor:"#f5f5f5",borderRadius:"5px",border:"1px solid #ddd"},children:[(0,c.jsx)("h4",{style:{margin:"0 0 10px 0",fontSize:"16px"},children:"Your Registration Information:"}),(0,c.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",fontSize:"14px"},children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("strong",{children:"Name:"})," ",f.name||"N/A"]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("strong",{children:"Email:"})," ",f.email||"N/A"]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("strong",{children:"Student ID:"})," ",f.voterId||"N/A"]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("strong",{children:"Department:"})," ",f.department||"N/A"]}),f.college&&(0,c.jsxs)("div",{children:[(0,c.jsx)("strong",{children:"College:"})," ",f.college]})]}),(0,c.jsx)("p",{style:{margin:"10px 0 0 0",fontSize:"12px",color:"#666"},children:"This information will be used for your candidate profile."})]})]}),(0,c.jsx)("div",{style:{padding:"15px",marginBottom:"20px",backgroundColor:"#e3f2fd",borderRadius:"5px",border:"1px solid #2196F3"},children:(0,c.jsxs)("p",{style:{margin:0,color:"#1565c0",fontSize:"14px"},children:[(0,c.jsx)("strong",{children:"Position Assignment:"})," Positions will be automatically assigned after the election ends based on the total number of votes you receive. The candidate with the highest votes becomes President, 2nd highest becomes Vice President, and so on."]})}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{for:"cgpa"}),(0,c.jsx)("input",{type:"number",name:"cgpa",id:"cgpa",value:C.cgpa,onChange:D,placeholder:"Your CGPA - Minimum: 2.75",step:"0.01",min:"2.75",max:"4.0",required:!0}),(0,c.jsx)("small",{style:{display:"block",marginTop:"5px",color:"#666",fontSize:"12px"},children:"Minimum CGPA required: 2.75"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{for:"bio"}),(0,c.jsx)("textarea",{name:"bio",id:"bio",value:C.bio,onChange:D,placeholder:"Candidate Bio (brief description)",rows:"3",style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd"}}),(0,c.jsx)("small",{style:{display:"block",marginTop:"5px",color:"#666",fontSize:"12px"},children:"(Optional) Provide a brief description about yourself"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{for:"image"}),(0,c.jsx)("input",{type:"file",name:"image",id:"image",onChange:S,accept:"image/*"}),(0,c.jsx)("small",{style:{display:"block",marginTop:"5px",color:"#666",fontSize:"12px"},children:"(Optional) Upload your profile photo (Image file)"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{for:"symbol"}),(0,c.jsx)("input",{type:"file",name:"symbol",id:"symbol",onChange:S,accept:"image/*,.pdf,.doc,.docx"}),(0,c.jsx)("small",{style:{display:"block",marginTop:"5px",color:"#666",fontSize:"12px"},children:"(Optional) Upload your proposal document (PDF, DOC, DOCX, or Image)"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{for:"authenticatedDocument"}),(0,c.jsx)("input",{type:"file",name:"authenticatedDocument",id:"authenticatedDocument",onChange:S,accept:"image/*,.pdf",required:!0}),(0,c.jsx)("small",{style:{display:"block",marginTop:"5px",color:"#d32f2f",fontSize:"12px"},children:"(Required) Upload your verified document proving you are a class representative (PDF or Image)"})]}),(0,c.jsx)("div",{className:"form-group form-button",children:(0,c.jsx)("button",{onClick:async e=>{if(t(!0),e.preventDefault(),!m||!g)return j("Please login first to register as a candidate."),void t(!1);const a=parseFloat(C.cgpa);if(!C.cgpa||isNaN(a)||a<2.75)return j("CGPA must be at least 2.75 to register as a candidate"),void t(!1);if(!C.authenticatedDocument)return j("Authenticated document is required. Please upload a verified document proving you are a class representative."),void t(!1);if(!f)return j("Unable to load your registration information. Please try again."),void t(!1);const o=new FormData;o.append("fullName",f.name||""),o.append("party",f.department||""),o.append("bio",C.bio),o.append("cgpa",C.cgpa),o.append("userId",g),C.image&&o.append("image",C.image),C.symbol&&o.append("symbol",C.symbol),o.append("authenticatedDocument",C.authenticatedDocument);try{const e=await n.A.post("".concat(r.C,"/createCandidate"),o,{headers:{"Content-Type":"multipart/form-data"}});e.data.success?(p(!0),i.oR.success("Candidate registration submitted! Waiting for admin approval.",{className:"toast-message"}),setTimeout((()=>{y("/User")}),2e3)):j(e.data.message||"Registration failed. Please try again.")}catch(l){var s,d;const e=(null===(s=l.response)||void 0===s||null===(d=s.data)||void 0===d?void 0:d.message)||"Invalid Details \n Please Try Again!";j(e),console.error(l)}finally{t(!1)}},disabled:e||!m||a,className:"form-submit",children:e?(0,c.jsx)("div",{className:"spinner"}):a?"Submitted":"Submit Application"})})]})]})})})]})})}},39194:(e,t,a)=>{a.d(t,{C:()=>i});const i="http://localhost:5000"},57406:()=>{},37354:(e,t,a)=>{e.exports=a.p+"static/media/style.css.9ca26aad3318bb6a049d.map"},1880:(e,t,a)=>{function i(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)e[i]=a[i]}return e}a.d(t,{A:()=>o});var o=function e(t,a){function o(e,o,n){if("undefined"!==typeof document){"number"===typeof(n=i({},a,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var s in n)n[s]&&(r+="; "+s,!0!==n[s]&&(r+="="+n[s].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+r}}return Object.create({set:o,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var a=document.cookie?document.cookie.split("; "):[],i={},o=0;o<a.length;o++){var n=a[o].split("="),r=n.slice(1).join("=");try{var s=decodeURIComponent(n[0]);if(i[s]=t.read(r,s),e===s)break}catch(d){}}return e?i[e]:i}},remove:function(e,t){o(e,"",i({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,i({},this.attributes,t))},withConverter:function(t){return e(i({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(a)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}}]);
//# sourceMappingURL=4320.5db69450.chunk.js.map